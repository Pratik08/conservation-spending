<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 4 Multi-category Filtering | Conservation funding does not track drivers of biodiversity loss</title>
  <meta name="description" content="Section 4 Multi-category Filtering | Conservation funding does not track drivers of biodiversity loss" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 4 Multi-category Filtering | Conservation funding does not track drivers of biodiversity loss" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="vjjan91/conservation-spending" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 4 Multi-category Filtering | Conservation funding does not track drivers of biodiversity loss" />
  
  
  

<meta name="author" content="Vijay Ramesh1*, Jay Schoen1, Michael Levin1, Pratik Dubal2, Rochelle Thomas1, Sebastian Heilpern1, Jared Meek1, Pooja Choksi1, Don J Melnick1, Sara Kross1&quot;" />


<meta name="date" content="2020-09-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="filtering.html"/>
<link rel="next" href="data-analysis-and-visualization-datavis.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Conservation funding does not track drivers of biodiversity loss</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#affiliations"><i class="fa fa-check"></i><b>1.1</b> Affiliations</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="extraction.html"><a href="extraction.html"><i class="fa fa-check"></i><b>2</b> Extraction</a><ul>
<li class="chapter" data-level="2.1" data-path="extraction.html"><a href="extraction.html#grant-acquisition-and-preliminary-filtering"><i class="fa fa-check"></i><b>2.1</b> Grant Acquisition and Preliminary Filtering</a></li>
<li class="chapter" data-level="2.2" data-path="extraction.html"><a href="extraction.html#keyword-development"><i class="fa fa-check"></i><b>2.2</b> Keyword Development</a></li>
<li class="chapter" data-level="2.3" data-path="extraction.html"><a href="extraction.html#categories"><i class="fa fa-check"></i><b>2.3</b> Categories</a></li>
<li class="chapter" data-level="2.4" data-path="extraction.html"><a href="extraction.html#pre-processing-grants"><i class="fa fa-check"></i><b>2.4</b> Pre-Processing grants</a></li>
<li class="chapter" data-level="2.5" data-path="extraction.html"><a href="extraction.html#classification"><i class="fa fa-check"></i><b>2.5</b> Classification</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="filtering.html"><a href="filtering.html"><i class="fa fa-check"></i><b>3</b> Post-Validation Filtering</a><ul>
<li class="chapter" data-level="3.1" data-path="filtering.html"><a href="filtering.html#fixing-algorithm-errors-discovered-post-validation"><i class="fa fa-check"></i><b>3.1</b> Fixing algorithm errors discovered post-validation</a></li>
<li class="chapter" data-level="3.2" data-path="filtering.html"><a href="filtering.html#remove-grants-with-no-associated-dollar-amount"><i class="fa fa-check"></i><b>3.2</b> Remove grants with no associated dollar amount</a></li>
<li class="chapter" data-level="3.3" data-path="filtering.html"><a href="filtering.html#filtering-aquariumzoo-grants"><i class="fa fa-check"></i><b>3.3</b> Filtering Aquarium/Zoo Grants</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="multiCatFilter.html"><a href="multiCatFilter.html"><i class="fa fa-check"></i><b>4</b> Multi-category Filtering</a><ul>
<li class="chapter" data-level="4.1" data-path="multiCatFilter.html"><a href="multiCatFilter.html#adding-category-sum-columns"><i class="fa fa-check"></i><b>4.1</b> Adding Category Sum columns</a></li>
<li class="chapter" data-level="4.2" data-path="multiCatFilter.html"><a href="multiCatFilter.html#export-multi-category-file"><i class="fa fa-check"></i><b>4.2</b> Export Multi-category file</a><ul>
<li class="chapter" data-level="4.2.1" data-path="multiCatFilter.html"><a href="multiCatFilter.html#multi-category-filtering-habitat-categories"><i class="fa fa-check"></i><b>4.2.1</b> Multi-category Filtering: Habitat Categories</a></li>
<li class="chapter" data-level="4.2.2" data-path="multiCatFilter.html"><a href="multiCatFilter.html#multi-category-filtering-bio-categories"><i class="fa fa-check"></i><b>4.2.2</b> Multi-category Filtering: Bio Categories</a></li>
<li class="chapter" data-level="4.2.3" data-path="multiCatFilter.html"><a href="multiCatFilter.html#multi-category-filtering-action-categories"><i class="fa fa-check"></i><b>4.2.3</b> Multi-category Filtering: Action Categories</a></li>
<li class="chapter" data-level="4.2.4" data-path="multiCatFilter.html"><a href="multiCatFilter.html#multi-category-filtering-threat-categories"><i class="fa fa-check"></i><b>4.2.4</b> Multi-category Filtering: Threat Categories</a></li>
<li class="chapter" data-level="4.2.5" data-path="multiCatFilter.html"><a href="multiCatFilter.html#multi-category-filtering-taxa-category"><i class="fa fa-check"></i><b>4.2.5</b> Multi-category Filtering: Taxa Category</a></li>
<li class="chapter" data-level="4.2.6" data-path="multiCatFilter.html"><a href="multiCatFilter.html#export-multi-category-data-for-analysis-and-visualization"><i class="fa fa-check"></i><b>4.2.6</b> Export Multi-Category Data for Analysis and Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html"><i class="fa fa-check"></i><b>5</b> Data Analysis and Visualization {dataVis}</a><ul>
<li class="chapter" data-level="5.1" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html#exploratory-visuals"><i class="fa fa-check"></i><b>5.1</b> Exploratory Visuals</a><ul>
<li class="chapter" data-level="5.1.1" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html#grants-with-no-keywords"><i class="fa fa-check"></i><b>5.1.1</b> Grants with No Keywords</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html#all-grants-with-funding"><i class="fa fa-check"></i><b>5.1.2</b> All Grants with Funding</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html#bio-subset"><i class="fa fa-check"></i><b>5.1.3</b> Bio Subset</a></li>
<li class="chapter" data-level="5.1.4" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html#money-data"><i class="fa fa-check"></i><b>5.1.4</b> Money Data</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html#manuscript-figures"><i class="fa fa-check"></i><b>5.2</b> Manuscript Figures</a><ul>
<li class="chapter" data-level="5.2.1" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html#figure-1-proportion-of-money-vs.-species-threatened"><i class="fa fa-check"></i><b>5.2.1</b> Figure 1: Proportion of Money vs. Species Threatened</a></li>
<li class="chapter" data-level="5.2.2" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html#figure-2-amount-of-money-allocated-across-unique-threat-categories-per-year"><i class="fa fa-check"></i><b>5.2.2</b> Figure 2: Amount of Money Allocated Across Unique Threat Categories per Year</a></li>
<li class="chapter" data-level="5.2.3" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html#figure-3-taxathreat-maxwell-comparison"><i class="fa fa-check"></i><b>5.2.3</b> Figure 3: Taxa/Threat Maxwell Comparison</a></li>
<li class="chapter" data-level="5.2.4" data-path="data-analysis-and-visualization-datavis.html"><a href="data-analysis-and-visualization-datavis.html#figure-4-network-analysis"><i class="fa fa-check"></i><b>5.2.4</b> Figure 4: Network Analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="figure-4-threats-network-analysis.html"><a href="figure-4-threats-network-analysis.html"><i class="fa fa-check"></i><b>6</b> Figure 4: Threats Network Analysis</a><ul>
<li class="chapter" data-level="6.1" data-path="figure-4-threats-network-analysis.html"><a href="figure-4-threats-network-analysis.html#threat-category-overlap"><i class="fa fa-check"></i><b>6.1</b> Threat Category Overlap</a></li>
<li class="chapter" data-level="6.2" data-path="figure-4-threats-network-analysis.html"><a href="figure-4-threats-network-analysis.html#pie-charts"><i class="fa fa-check"></i><b>6.2</b> Pie Charts</a><ul>
<li class="chapter" data-level="6.2.1" data-path="figure-4-threats-network-analysis.html"><a href="figure-4-threats-network-analysis.html#of-threats-within-threat-categories-number-of-grants-not"><i class="fa fa-check"></i><b>6.2.1</b> # of Threats within Threat categories (number of grants, not $)</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="figure-4-threats-network-analysis.html"><a href="figure-4-threats-network-analysis.html#supplemental-figures"><i class="fa fa-check"></i><b>6.3</b> Supplemental Figures</a><ul>
<li class="chapter" data-level="6.3.1" data-path="figure-4-threats-network-analysis.html"><a href="figure-4-threats-network-analysis.html#figure-s1-total-biodiversityclimate-change-grantmaking-by-top-1000-grantmakers"><i class="fa fa-check"></i><b>6.3.1</b> Figure S1: Total Biodiversity/Climate Change Grantmaking by Top 1000 Grantmakers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="rbc.html"><a href="rbc.html"><i class="fa fa-check"></i><b>7</b> Rule Based Classification</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Conservation funding does not track drivers of biodiversity loss</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="multiCatFilter" class="section level1">
<h1><span class="header-section-number">Section 4</span> Multi-category Filtering</h1>
<p>The code below governs the way we dealt with multiple, potentially overlapping categories on individual grants. The general format is as follows:</p>
<ol style="list-style-type: decimal">
<li>Grants with &gt;2 independent classfications (i.e. habitat_terrestrial, habitat_marine, and habitat_freshwater) are reclassified as “other” within their broader categories (i.e. habitat_other).<br />
</li>
<li>Grants with 2 independent classifications (i.e. habitat_terrestrial and habitat_marine) are classified into a separate, joint classification within their broader categories (i.e. habitat_MarineTerrestrial).<br />
</li>
<li>Those grants with shared independent and joint classifications default to the joint category described above.</li>
</ol>
<div id="adding-category-sum-columns" class="section level2">
<h2><span class="header-section-number">4.1</span> Adding Category Sum columns</h2>
<p>The above rules are built on dummy variables that take the sum of our binary classification data across the columns of each broader category.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">dat<span class="fl">.1</span> &lt;-<span class="st"> </span>dat<span class="fl">.1</span> <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Num.Class =</span> <span class="kw">rowSums</span>(.[,<span class="dv">11</span><span class="op">:</span><span class="kw">length</span>(.)])) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Num.Thr =</span> <span class="kw">rowSums</span>(.[<span class="dv">37</span><span class="op">:</span><span class="dv">42</span>])) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Num.Act =</span> <span class="kw">rowSums</span>(.[<span class="dv">11</span><span class="op">:</span><span class="dv">17</span>])) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Num.Hab =</span> <span class="kw">rowSums</span>(.[<span class="kw">c</span>(<span class="dv">25</span>,<span class="dv">26</span>,<span class="dv">28</span>)])) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Num.Tax =</span> <span class="kw">rowSums</span>(.[<span class="dv">30</span><span class="op">:</span><span class="dv">36</span>])) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Num.Bio =</span> <span class="kw">rowSums</span>(.[<span class="dv">19</span><span class="op">:</span><span class="dv">20</span>]))</a></code></pre></div>
</div>
<div id="export-multi-category-file" class="section level2">
<h2><span class="header-section-number">4.2</span> Export Multi-category file</h2>
<p>The foundation of this multi-category dataset is exported prior to the full multi-category processing to provide a dataset more suited to the network analysis.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co"># Export file before category mutli-category processing for network analysis</span></a>
<a class="sourceLine" id="cb5-2" title="2">dat.<span class="fl">1.</span>multi &lt;-<span class="st"> </span>dat<span class="fl">.1</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">write_csv</span>(dat.<span class="fl">1.</span>multi, <span class="st">&quot;~/Desktop/master_output_data_analysis_v15_mutlicategories.csv&quot;</span>)</a></code></pre></div>
<div id="multi-category-filtering-habitat-categories" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Multi-category Filtering: Habitat Categories</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">hab &lt;-<span class="st"> </span>dat<span class="fl">.1</span>[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,<span class="dv">22</span><span class="op">:</span><span class="dv">28</span>)]</a>
<a class="sourceLine" id="cb6-2" title="2"></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co"># Marine-Terrestrial</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(hab)){</a>
<a class="sourceLine" id="cb6-5" title="5">  <span class="cf">if</span>(hab<span class="op">$</span>cat_habitat_marine[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>hab<span class="op">$</span>cat_habitat_terrestrial[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb6-6" title="6">    hab<span class="op">$</span>cat_habitat_MarineTerrestrial[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb6-7" title="7">  <span class="cf">if</span>(hab<span class="op">$</span>cat_habitat_MarineTerrestrial[i] <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb6-8" title="8">    hab<span class="op">$</span>cat_habitat_marine[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb6-9" title="9">    hab<span class="op">$</span>cat_habitat_terrestrial[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb6-10" title="10">  }</a>
<a class="sourceLine" id="cb6-11" title="11">}</a>
<a class="sourceLine" id="cb6-12" title="12"></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="co"># Marine-Freshwater</span></a>
<a class="sourceLine" id="cb6-14" title="14"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(hab)){</a>
<a class="sourceLine" id="cb6-15" title="15">  <span class="cf">if</span>(hab<span class="op">$</span>cat_habitat_marine[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>hab<span class="op">$</span>cat_habitat_freshwater[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb6-16" title="16">    hab<span class="op">$</span>cat_habitat_FreshwaterMarine[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb6-17" title="17">  <span class="cf">if</span>(hab<span class="op">$</span>cat_habitat_FreshwaterMarine[i] <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb6-18" title="18">    hab<span class="op">$</span>cat_habitat_marine[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb6-19" title="19">    hab<span class="op">$</span>cat_habitat_freshwater[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb6-20" title="20">  }</a>
<a class="sourceLine" id="cb6-21" title="21">}</a>
<a class="sourceLine" id="cb6-22" title="22"></a>
<a class="sourceLine" id="cb6-23" title="23"><span class="co"># Freshwater-Terrestrial  </span></a>
<a class="sourceLine" id="cb6-24" title="24"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(hab)){</a>
<a class="sourceLine" id="cb6-25" title="25">  <span class="cf">if</span>(hab<span class="op">$</span>cat_habitat_terrestrial[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>hab<span class="op">$</span>cat_habitat_freshwater[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb6-26" title="26">    hab<span class="op">$</span>cat_habitat_FreshwaterTerrestrial[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb6-27" title="27">  <span class="cf">if</span>(hab<span class="op">$</span>cat_habitat_FreshwaterTerrestrial[i] <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb6-28" title="28">    hab<span class="op">$</span>cat_habitat_terrestrial[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb6-29" title="29">    hab<span class="op">$</span>cat_habitat_freshwater[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb6-30" title="30">  }</a>
<a class="sourceLine" id="cb6-31" title="31">}</a>
<a class="sourceLine" id="cb6-32" title="32"></a>
<a class="sourceLine" id="cb6-33" title="33"><span class="co">## Check</span></a>
<a class="sourceLine" id="cb6-34" title="34"><span class="kw">sum</span>(hab<span class="op">$</span>cat_habitat_other)</a>
<a class="sourceLine" id="cb6-35" title="35"><span class="kw">sum</span>(hab<span class="op">$</span>cat_habitat_terrestrial)</a>
<a class="sourceLine" id="cb6-36" title="36"></a>
<a class="sourceLine" id="cb6-37" title="37"><span class="co"># Habitat other (&gt;2 categories)</span></a>
<a class="sourceLine" id="cb6-38" title="38"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(hab)){</a>
<a class="sourceLine" id="cb6-39" title="39">  <span class="cf">if</span>(<span class="kw">sum</span>(hab[i,<span class="kw">c</span>(<span class="dv">11</span><span class="op">:</span><span class="dv">15</span>,<span class="dv">17</span>)]) <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>){</a>
<a class="sourceLine" id="cb6-40" title="40">    hab<span class="op">$</span>cat_habitat_other[i] =<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb6-41" title="41">    hab[i, <span class="kw">c</span>(<span class="dv">11</span><span class="op">:</span><span class="dv">15</span>,<span class="dv">17</span>)] =<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb6-42" title="42">  }</a>
<a class="sourceLine" id="cb6-43" title="43">}</a>
<a class="sourceLine" id="cb6-44" title="44"></a>
<a class="sourceLine" id="cb6-45" title="45"><span class="co">## Check</span></a>
<a class="sourceLine" id="cb6-46" title="46"><span class="kw">sum</span>(hab<span class="op">$</span>cat_habitat_other)</a>
<a class="sourceLine" id="cb6-47" title="47"><span class="kw">sum</span>(hab<span class="op">$</span>cat_habitat_terrestrial)</a>
<a class="sourceLine" id="cb6-48" title="48"></a>
<a class="sourceLine" id="cb6-49" title="49"></a>
<a class="sourceLine" id="cb6-50" title="50"><span class="co"># If hab_other, no other habitat classification</span></a>
<a class="sourceLine" id="cb6-51" title="51"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(hab)){</a>
<a class="sourceLine" id="cb6-52" title="52">  <span class="cf">if</span>(hab<span class="op">$</span>cat_habitat_other[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb6-53" title="53">    hab[i,<span class="kw">c</span>(<span class="dv">11</span><span class="op">:</span><span class="dv">15</span>,<span class="dv">17</span>)] =<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb6-54" title="54">  }</a>
<a class="sourceLine" id="cb6-55" title="55">}  </a>
<a class="sourceLine" id="cb6-56" title="56"></a>
<a class="sourceLine" id="cb6-57" title="57"><span class="co">## Check</span></a>
<a class="sourceLine" id="cb6-58" title="58"><span class="kw">sum</span>(hab<span class="op">$</span>cat_habitat_other)</a>
<a class="sourceLine" id="cb6-59" title="59"><span class="kw">sum</span>(hab<span class="op">$</span>cat_habitat_terrestrial)</a>
<a class="sourceLine" id="cb6-60" title="60"><span class="kw">sum</span>(dat<span class="fl">.1</span><span class="op">$</span>cat_habitat_freshwater)</a>
<a class="sourceLine" id="cb6-61" title="61"><span class="kw">sum</span>(hab<span class="op">$</span>cat_habitat_freshwater) <span class="co"># Huge change in freshwater number here, showing freshwater classified with other categories a lot</span></a>
<a class="sourceLine" id="cb6-62" title="62"></a>
<a class="sourceLine" id="cb6-63" title="63"></a>
<a class="sourceLine" id="cb6-64" title="64"><span class="co">### Join filtered habitat columns with original data</span></a>
<a class="sourceLine" id="cb6-65" title="65">data.final &lt;-<span class="st"> </span>dat<span class="fl">.1</span> </a>
<a class="sourceLine" id="cb6-66" title="66"><span class="kw">names</span>(data.final)</a>
<a class="sourceLine" id="cb6-67" title="67">data.final[,<span class="dv">22</span><span class="op">:</span><span class="dv">28</span>] &lt;-<span class="st"> </span>hab[,<span class="dv">11</span><span class="op">:</span><span class="dv">17</span>]</a>
<a class="sourceLine" id="cb6-68" title="68"></a>
<a class="sourceLine" id="cb6-69" title="69"><span class="co"># Check</span></a>
<a class="sourceLine" id="cb6-70" title="70"><span class="kw">sum</span>(dat<span class="fl">.1</span><span class="op">$</span>cat_habitat_freshwater)</a>
<a class="sourceLine" id="cb6-71" title="71"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_habitat_freshwater)</a></code></pre></div>
</div>
<div id="multi-category-filtering-bio-categories" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Multi-category Filtering: Bio Categories</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">data.final &lt;-<span class="st"> </span>data.final <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cat_bio_ecosys_species =</span> <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">## Filling cells</span></a>
<a class="sourceLine" id="cb7-5" title="5"></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">#test</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_bio_ecosys)</a>
<a class="sourceLine" id="cb7-8" title="8"></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb7-10" title="10">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_bio_ecosys[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_bio_species[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb7-11" title="11">    data.final<span class="op">$</span>cat_bio_ecosys_species[i]=<span class="dv">1</span></a>
<a class="sourceLine" id="cb7-12" title="12">    data.final<span class="op">$</span>cat_bio_ecosys[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb7-13" title="13">    data.final<span class="op">$</span>cat_bio_species[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb7-14" title="14">  }</a>
<a class="sourceLine" id="cb7-15" title="15">}</a>
<a class="sourceLine" id="cb7-16" title="16"></a>
<a class="sourceLine" id="cb7-17" title="17"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb7-18" title="18"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_bio_ecosys)</a>
<a class="sourceLine" id="cb7-19" title="19"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_bio_ecosys_species)</a></code></pre></div>
</div>
<div id="multi-category-filtering-action-categories" class="section level3">
<h3><span class="header-section-number">4.2.3</span> Multi-category Filtering: Action Categories</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">act &lt;-<span class="st"> </span>data.final[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">17</span>)]</a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3">act &lt;-<span class="st"> </span>act <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sumAcross =</span> cat_act_area <span class="op">+</span><span class="st"> </span>cat_act_community <span class="op">+</span><span class="st"> </span>cat_act_edu <span class="op">+</span><span class="st"> </span>cat_act_funding <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="st">           </span>cat_act_policy <span class="op">+</span><span class="st"> </span>cat_act_research <span class="op">+</span><span class="st"> </span>cat_act_restor) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb8-7" title="7"></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="co"># Checking number of grants/money for multiple action category grants</span></a>
<a class="sourceLine" id="cb8-9" title="9">tot_act &lt;-<span class="st"> </span><span class="kw">sum</span>(act<span class="op">$</span>Grant.Amount) <span class="co"># total = </span></a>
<a class="sourceLine" id="cb8-10" title="10"></a>
<a class="sourceLine" id="cb8-11" title="11">act5 &lt;-<span class="st"> </span>act <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&lt;=</span><span class="st"> </span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb8-13" title="13"><span class="kw">nrow</span>(act5)<span class="op">/</span><span class="kw">nrow</span>(act)</a>
<a class="sourceLine" id="cb8-14" title="14"><span class="kw">sum</span>(act5<span class="op">$</span>Grant.Amount)<span class="op">/</span>tot_act</a>
<a class="sourceLine" id="cb8-15" title="15"><span class="co"># Retained 99.95% of grants, 99.98% of money</span></a>
<a class="sourceLine" id="cb8-16" title="16"></a>
<a class="sourceLine" id="cb8-17" title="17">act4 &lt;-<span class="st"> </span>act <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-18" title="18"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&lt;=</span><span class="st"> </span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb8-19" title="19"><span class="kw">nrow</span>(act4)<span class="op">/</span><span class="kw">nrow</span>(act)</a>
<a class="sourceLine" id="cb8-20" title="20"><span class="kw">sum</span>(act4<span class="op">$</span>Grant.Amount)<span class="op">/</span>tot_act</a>
<a class="sourceLine" id="cb8-21" title="21"><span class="co"># Retained 99.46% of grants, 99.70% of money</span></a>
<a class="sourceLine" id="cb8-22" title="22"></a>
<a class="sourceLine" id="cb8-23" title="23">act3 &lt;-<span class="st"> </span>act <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-24" title="24"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&lt;=</span><span class="st"> </span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb8-25" title="25"><span class="kw">nrow</span>(act3)<span class="op">/</span><span class="kw">nrow</span>(act)</a>
<a class="sourceLine" id="cb8-26" title="26"><span class="kw">sum</span>(act3<span class="op">$</span>Grant.Amount)<span class="op">/</span>tot_act</a>
<a class="sourceLine" id="cb8-27" title="27"><span class="co"># Retained 97.63% of grants, 98.64% of money</span></a>
<a class="sourceLine" id="cb8-28" title="28"></a>
<a class="sourceLine" id="cb8-29" title="29">act2 &lt;-<span class="st"> </span>act <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-30" title="30"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&lt;=</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb8-31" title="31"><span class="kw">nrow</span>(act2)<span class="op">/</span><span class="kw">nrow</span>(act)</a>
<a class="sourceLine" id="cb8-32" title="32"><span class="kw">sum</span>(act2<span class="op">$</span>Grant.Amount)<span class="op">/</span>tot_act</a>
<a class="sourceLine" id="cb8-33" title="33"><span class="co"># Retained 90.97% of grants, 91.96% of money</span></a>
<a class="sourceLine" id="cb8-34" title="34"></a>
<a class="sourceLine" id="cb8-35" title="35">act1 &lt;-<span class="st"> </span>act <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-36" title="36"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&lt;=</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb8-37" title="37"><span class="kw">nrow</span>(act1)<span class="op">/</span><span class="kw">nrow</span>(act)</a>
<a class="sourceLine" id="cb8-38" title="38"><span class="kw">sum</span>(act1<span class="op">$</span>Grant.Amount)<span class="op">/</span>tot_act</a>
<a class="sourceLine" id="cb8-39" title="39"><span class="co"># Retained 67.42% of grants, 67.28% of money</span></a>
<a class="sourceLine" id="cb8-40" title="40"></a>
<a class="sourceLine" id="cb8-41" title="41"></a>
<a class="sourceLine" id="cb8-42" title="42">n_actions &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb8-43" title="43">n_act_grants &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">nrow</span>(act1), </a>
<a class="sourceLine" id="cb8-44" title="44">              <span class="kw">nrow</span>(act2) <span class="op">-</span><span class="st"> </span><span class="kw">nrow</span>(act1), </a>
<a class="sourceLine" id="cb8-45" title="45">              <span class="kw">nrow</span>(act3) <span class="op">-</span><span class="st"> </span><span class="kw">nrow</span>(act2),</a>
<a class="sourceLine" id="cb8-46" title="46">              <span class="kw">nrow</span>(act4) <span class="op">-</span><span class="st"> </span><span class="kw">nrow</span>(act3),</a>
<a class="sourceLine" id="cb8-47" title="47">              <span class="kw">nrow</span>(act5) <span class="op">-</span><span class="st"> </span><span class="kw">nrow</span>(act4))</a>
<a class="sourceLine" id="cb8-48" title="48"></a>
<a class="sourceLine" id="cb8-49" title="49">actions &lt;-<span class="st"> </span><span class="kw">data.frame</span>(n_actions, n_act_grants)</a>
<a class="sourceLine" id="cb8-50" title="50"><span class="kw">ggplot</span>(actions, <span class="kw">aes</span>(<span class="dt">x =</span> n_actions, <span class="dt">y =</span> n_act_grants)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-51" title="51"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb8-52" title="52"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;# Grants in Multiple Action Categories&quot;</span>)</a>
<a class="sourceLine" id="cb8-53" title="53"></a>
<a class="sourceLine" id="cb8-54" title="54"></a>
<a class="sourceLine" id="cb8-55" title="55"><span class="co">## &gt;2 category grants into (act_other)</span></a>
<a class="sourceLine" id="cb8-56" title="56"></a>
<a class="sourceLine" id="cb8-57" title="57">act_other &lt;-<span class="st"> </span>data.final <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-58" title="58"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sum_act =</span> cat_act_area <span class="op">+</span><span class="st"> </span>cat_act_community <span class="op">+</span><span class="st"> </span>cat_act_edu <span class="op">+</span><span class="st"> </span>cat_act_funding <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-59" title="59"><span class="st">           </span>cat_act_policy <span class="op">+</span><span class="st"> </span>cat_act_research <span class="op">+</span><span class="st"> </span>cat_act_restor) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-60" title="60"><span class="st">  </span><span class="kw">filter</span>(sum_act <span class="op">&gt;</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb8-61" title="61"></a>
<a class="sourceLine" id="cb8-62" title="62"></a>
<a class="sourceLine" id="cb8-63" title="63"><span class="co">## Adding 2-action categories and other</span></a>
<a class="sourceLine" id="cb8-64" title="64">data.final &lt;-<span class="st"> </span>data.final <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-65" title="65"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cat_act_area_comm =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-66" title="66">         <span class="dt">cat_act_area_edu =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-67" title="67">         <span class="dt">cat_act_area_funding =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-68" title="68">         <span class="dt">cat_act_area_policy =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-69" title="69">         <span class="dt">cat_act_area_research =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-70" title="70">         <span class="dt">cat_act_area_restor =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-71" title="71">         <span class="dt">cat_act_community_edu =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-72" title="72">         <span class="dt">cat_act_community_funding =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-73" title="73">         <span class="dt">cat_act_community_policy =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-74" title="74">         <span class="dt">cat_act_community_research =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-75" title="75">         <span class="dt">cat_act_community_restor =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-76" title="76">         <span class="dt">cat_act_edu_funding =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-77" title="77">         <span class="dt">cat_act_edu_policy =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-78" title="78">         <span class="dt">cat_act_edu_research =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-79" title="79">         <span class="dt">cat_act_edu_restor =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-80" title="80">         <span class="dt">cat_act_funding_policy =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-81" title="81">         <span class="dt">cat_act_funding_research =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-82" title="82">         <span class="dt">cat_act_funding_restor =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-83" title="83">         <span class="dt">cat_act_policy_research =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-84" title="84">         <span class="dt">cat_act_policy_restor =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-85" title="85">         <span class="dt">cat_act_research_restor =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb8-86" title="86">         <span class="dt">cat_act_other =</span> <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb8-87" title="87"></a>
<a class="sourceLine" id="cb8-88" title="88"></a>
<a class="sourceLine" id="cb8-89" title="89"><span class="co">#### Filling Multiple Action cells ####</span></a>
<a class="sourceLine" id="cb8-90" title="90"></a>
<a class="sourceLine" id="cb8-91" title="91"><span class="co">## Other Actions (&gt;2 classifications)</span></a>
<a class="sourceLine" id="cb8-92" title="92"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-93" title="93"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_research)</a>
<a class="sourceLine" id="cb8-94" title="94"></a>
<a class="sourceLine" id="cb8-95" title="95"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)) {</a>
<a class="sourceLine" id="cb8-96" title="96">  <span class="cf">if</span>(<span class="kw">sum</span>(data.final[i,<span class="dv">11</span><span class="op">:</span><span class="dv">17</span>]) <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb8-97" title="97">    data.final<span class="op">$</span>cat_act_other[i] =<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb8-98" title="98">    data.final[i,<span class="dv">11</span><span class="op">:</span><span class="dv">17</span>] =<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb8-99" title="99">  }</a>
<a class="sourceLine" id="cb8-100" title="100">}</a>
<a class="sourceLine" id="cb8-101" title="101"></a>
<a class="sourceLine" id="cb8-102" title="102"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-103" title="103"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_research)</a>
<a class="sourceLine" id="cb8-104" title="104"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_other) <span class="co"># matches nrow of act_other DF</span></a>
<a class="sourceLine" id="cb8-105" title="105"></a>
<a class="sourceLine" id="cb8-106" title="106"></a>
<a class="sourceLine" id="cb8-107" title="107"><span class="co">## Area + Community</span></a>
<a class="sourceLine" id="cb8-108" title="108"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-109" title="109"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-110" title="110"></a>
<a class="sourceLine" id="cb8-111" title="111"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-112" title="112">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_community[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-113" title="113">    data.final<span class="op">$</span>cat_act_area_comm[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-114" title="114">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area_comm[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-115" title="115">    data.final<span class="op">$</span>cat_act_area[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-116" title="116">    data.final<span class="op">$</span>cat_act_community[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-117" title="117">  }</a>
<a class="sourceLine" id="cb8-118" title="118">}</a>
<a class="sourceLine" id="cb8-119" title="119"></a>
<a class="sourceLine" id="cb8-120" title="120"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-121" title="121"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-122" title="122"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area_comm)</a>
<a class="sourceLine" id="cb8-123" title="123"></a>
<a class="sourceLine" id="cb8-124" title="124"></a>
<a class="sourceLine" id="cb8-125" title="125"><span class="co">## Area + Education</span></a>
<a class="sourceLine" id="cb8-126" title="126"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-127" title="127"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-128" title="128"></a>
<a class="sourceLine" id="cb8-129" title="129"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-130" title="130">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_edu[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-131" title="131">    data.final<span class="op">$</span>cat_act_area_edu[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-132" title="132">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area_edu[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-133" title="133">    data.final<span class="op">$</span>cat_act_area[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-134" title="134">    data.final<span class="op">$</span>cat_act_edu[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-135" title="135">  }</a>
<a class="sourceLine" id="cb8-136" title="136">}</a>
<a class="sourceLine" id="cb8-137" title="137"></a>
<a class="sourceLine" id="cb8-138" title="138"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-139" title="139"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-140" title="140"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area_edu)</a>
<a class="sourceLine" id="cb8-141" title="141"></a>
<a class="sourceLine" id="cb8-142" title="142"></a>
<a class="sourceLine" id="cb8-143" title="143"><span class="co">## Area + Funding</span></a>
<a class="sourceLine" id="cb8-144" title="144"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-145" title="145"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-146" title="146"></a>
<a class="sourceLine" id="cb8-147" title="147"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-148" title="148">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_funding[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-149" title="149">    data.final<span class="op">$</span>cat_act_area_funding[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-150" title="150">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area_funding[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-151" title="151">    data.final<span class="op">$</span>cat_act_area[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-152" title="152">    data.final<span class="op">$</span>cat_act_funding[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-153" title="153">  }</a>
<a class="sourceLine" id="cb8-154" title="154">}</a>
<a class="sourceLine" id="cb8-155" title="155"></a>
<a class="sourceLine" id="cb8-156" title="156"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-157" title="157"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-158" title="158"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area_funding)</a>
<a class="sourceLine" id="cb8-159" title="159"></a>
<a class="sourceLine" id="cb8-160" title="160"></a>
<a class="sourceLine" id="cb8-161" title="161"><span class="co">## Area + Policy</span></a>
<a class="sourceLine" id="cb8-162" title="162"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-163" title="163"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-164" title="164"></a>
<a class="sourceLine" id="cb8-165" title="165"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-166" title="166">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_policy[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-167" title="167">    data.final<span class="op">$</span>cat_act_area_policy[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-168" title="168">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area_policy[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-169" title="169">    data.final<span class="op">$</span>cat_act_area[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-170" title="170">    data.final<span class="op">$</span>cat_act_policy[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-171" title="171">  }</a>
<a class="sourceLine" id="cb8-172" title="172">}</a>
<a class="sourceLine" id="cb8-173" title="173"></a>
<a class="sourceLine" id="cb8-174" title="174"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-175" title="175"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-176" title="176"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area_policy)</a>
<a class="sourceLine" id="cb8-177" title="177"></a>
<a class="sourceLine" id="cb8-178" title="178"></a>
<a class="sourceLine" id="cb8-179" title="179"><span class="co">## Area + Research</span></a>
<a class="sourceLine" id="cb8-180" title="180"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-181" title="181"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-182" title="182"></a>
<a class="sourceLine" id="cb8-183" title="183"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-184" title="184">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_research[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-185" title="185">    data.final<span class="op">$</span>cat_act_area_research[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-186" title="186">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area_research[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-187" title="187">    data.final<span class="op">$</span>cat_act_area[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-188" title="188">    data.final<span class="op">$</span>cat_act_research[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-189" title="189">  }</a>
<a class="sourceLine" id="cb8-190" title="190">}</a>
<a class="sourceLine" id="cb8-191" title="191"></a>
<a class="sourceLine" id="cb8-192" title="192"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-193" title="193"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-194" title="194"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area_research)</a>
<a class="sourceLine" id="cb8-195" title="195"></a>
<a class="sourceLine" id="cb8-196" title="196"></a>
<a class="sourceLine" id="cb8-197" title="197"><span class="co">## Area + Restoration</span></a>
<a class="sourceLine" id="cb8-198" title="198"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-199" title="199"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-200" title="200"></a>
<a class="sourceLine" id="cb8-201" title="201"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-202" title="202">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-203" title="203">    data.final<span class="op">$</span>cat_act_area_restor[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-204" title="204">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_area_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-205" title="205">    data.final<span class="op">$</span>cat_act_area[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-206" title="206">    data.final<span class="op">$</span>cat_act_restor[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-207" title="207">  }</a>
<a class="sourceLine" id="cb8-208" title="208">}</a>
<a class="sourceLine" id="cb8-209" title="209"></a>
<a class="sourceLine" id="cb8-210" title="210"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-211" title="211"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area)</a>
<a class="sourceLine" id="cb8-212" title="212"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_area_restor)</a>
<a class="sourceLine" id="cb8-213" title="213"></a>
<a class="sourceLine" id="cb8-214" title="214"></a>
<a class="sourceLine" id="cb8-215" title="215"><span class="co">## Community + Education</span></a>
<a class="sourceLine" id="cb8-216" title="216"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-217" title="217"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community)</a>
<a class="sourceLine" id="cb8-218" title="218"></a>
<a class="sourceLine" id="cb8-219" title="219"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-220" title="220">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_community[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_edu[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-221" title="221">    data.final<span class="op">$</span>cat_act_community_edu[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-222" title="222">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_community_edu[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-223" title="223">    data.final<span class="op">$</span>cat_act_community[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-224" title="224">    data.final<span class="op">$</span>cat_act_edu[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-225" title="225">  }</a>
<a class="sourceLine" id="cb8-226" title="226">}</a>
<a class="sourceLine" id="cb8-227" title="227"></a>
<a class="sourceLine" id="cb8-228" title="228"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-229" title="229"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community)</a>
<a class="sourceLine" id="cb8-230" title="230"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community_edu)</a>
<a class="sourceLine" id="cb8-231" title="231"></a>
<a class="sourceLine" id="cb8-232" title="232"></a>
<a class="sourceLine" id="cb8-233" title="233"><span class="co">## Community + Funding</span></a>
<a class="sourceLine" id="cb8-234" title="234"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-235" title="235"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community)</a>
<a class="sourceLine" id="cb8-236" title="236"></a>
<a class="sourceLine" id="cb8-237" title="237"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-238" title="238">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_community[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_funding[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-239" title="239">    data.final<span class="op">$</span>cat_act_community_funding[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-240" title="240">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_community_funding[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-241" title="241">    data.final<span class="op">$</span>cat_act_community[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-242" title="242">    data.final<span class="op">$</span>cat_act_funding[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-243" title="243">  }</a>
<a class="sourceLine" id="cb8-244" title="244">}</a>
<a class="sourceLine" id="cb8-245" title="245"></a>
<a class="sourceLine" id="cb8-246" title="246"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-247" title="247"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community)</a>
<a class="sourceLine" id="cb8-248" title="248"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community_funding)</a>
<a class="sourceLine" id="cb8-249" title="249"></a>
<a class="sourceLine" id="cb8-250" title="250"></a>
<a class="sourceLine" id="cb8-251" title="251"><span class="co">## Community + Policy</span></a>
<a class="sourceLine" id="cb8-252" title="252"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-253" title="253"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community)</a>
<a class="sourceLine" id="cb8-254" title="254"></a>
<a class="sourceLine" id="cb8-255" title="255"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-256" title="256">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_community[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_policy[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-257" title="257">    data.final<span class="op">$</span>cat_act_community_policy[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-258" title="258">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_community_policy[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-259" title="259">    data.final<span class="op">$</span>cat_act_community[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-260" title="260">    data.final<span class="op">$</span>cat_act_policy[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-261" title="261">  }</a>
<a class="sourceLine" id="cb8-262" title="262">}</a>
<a class="sourceLine" id="cb8-263" title="263"></a>
<a class="sourceLine" id="cb8-264" title="264"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-265" title="265"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community)</a>
<a class="sourceLine" id="cb8-266" title="266"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community_policy)</a>
<a class="sourceLine" id="cb8-267" title="267"></a>
<a class="sourceLine" id="cb8-268" title="268"></a>
<a class="sourceLine" id="cb8-269" title="269"><span class="co">## Community + Research</span></a>
<a class="sourceLine" id="cb8-270" title="270"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-271" title="271"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community)</a>
<a class="sourceLine" id="cb8-272" title="272"></a>
<a class="sourceLine" id="cb8-273" title="273"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-274" title="274">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_community[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_research[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-275" title="275">    data.final<span class="op">$</span>cat_act_community_research[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-276" title="276">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_community_research[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-277" title="277">    data.final<span class="op">$</span>cat_act_community[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-278" title="278">    data.final<span class="op">$</span>cat_act_research[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-279" title="279">  }</a>
<a class="sourceLine" id="cb8-280" title="280">}</a>
<a class="sourceLine" id="cb8-281" title="281"></a>
<a class="sourceLine" id="cb8-282" title="282"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-283" title="283"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community)</a>
<a class="sourceLine" id="cb8-284" title="284"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community_research)</a>
<a class="sourceLine" id="cb8-285" title="285"></a>
<a class="sourceLine" id="cb8-286" title="286"></a>
<a class="sourceLine" id="cb8-287" title="287"><span class="co">## Community + Restoration</span></a>
<a class="sourceLine" id="cb8-288" title="288"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-289" title="289"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community)</a>
<a class="sourceLine" id="cb8-290" title="290"></a>
<a class="sourceLine" id="cb8-291" title="291"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-292" title="292">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_community[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-293" title="293">    data.final<span class="op">$</span>cat_act_community_restor[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-294" title="294">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_community_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-295" title="295">    data.final<span class="op">$</span>cat_act_community[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-296" title="296">    data.final<span class="op">$</span>cat_act_restor[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-297" title="297">  }</a>
<a class="sourceLine" id="cb8-298" title="298">}</a>
<a class="sourceLine" id="cb8-299" title="299"></a>
<a class="sourceLine" id="cb8-300" title="300"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-301" title="301"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community)</a>
<a class="sourceLine" id="cb8-302" title="302"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_community_restor)</a>
<a class="sourceLine" id="cb8-303" title="303"></a>
<a class="sourceLine" id="cb8-304" title="304"></a>
<a class="sourceLine" id="cb8-305" title="305"><span class="co">## Education + Funding</span></a>
<a class="sourceLine" id="cb8-306" title="306"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-307" title="307"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu)</a>
<a class="sourceLine" id="cb8-308" title="308"></a>
<a class="sourceLine" id="cb8-309" title="309"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-310" title="310">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_edu[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_funding[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-311" title="311">    data.final<span class="op">$</span>cat_act_edu_funding[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-312" title="312">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_edu_funding[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-313" title="313">    data.final<span class="op">$</span>cat_act_edu[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-314" title="314">    data.final<span class="op">$</span>cat_act_funding[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-315" title="315">  }</a>
<a class="sourceLine" id="cb8-316" title="316">}</a>
<a class="sourceLine" id="cb8-317" title="317"></a>
<a class="sourceLine" id="cb8-318" title="318"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-319" title="319"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu)</a>
<a class="sourceLine" id="cb8-320" title="320"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu_funding)</a>
<a class="sourceLine" id="cb8-321" title="321"></a>
<a class="sourceLine" id="cb8-322" title="322"></a>
<a class="sourceLine" id="cb8-323" title="323"><span class="co">## Education + Policy</span></a>
<a class="sourceLine" id="cb8-324" title="324"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-325" title="325"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu)</a>
<a class="sourceLine" id="cb8-326" title="326"></a>
<a class="sourceLine" id="cb8-327" title="327"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-328" title="328">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_edu[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_policy[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-329" title="329">    data.final<span class="op">$</span>cat_act_edu_policy[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-330" title="330">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_edu_policy[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-331" title="331">    data.final<span class="op">$</span>cat_act_edu[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-332" title="332">    data.final<span class="op">$</span>cat_act_policy[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-333" title="333">  }</a>
<a class="sourceLine" id="cb8-334" title="334">}</a>
<a class="sourceLine" id="cb8-335" title="335"></a>
<a class="sourceLine" id="cb8-336" title="336"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-337" title="337"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu)</a>
<a class="sourceLine" id="cb8-338" title="338"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu_policy)</a>
<a class="sourceLine" id="cb8-339" title="339"></a>
<a class="sourceLine" id="cb8-340" title="340"></a>
<a class="sourceLine" id="cb8-341" title="341"><span class="co">## Education + Research</span></a>
<a class="sourceLine" id="cb8-342" title="342"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-343" title="343"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu)</a>
<a class="sourceLine" id="cb8-344" title="344"></a>
<a class="sourceLine" id="cb8-345" title="345"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-346" title="346">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_edu[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_research[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-347" title="347">    data.final<span class="op">$</span>cat_act_edu_research[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-348" title="348">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_edu_research[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-349" title="349">    data.final<span class="op">$</span>cat_act_edu[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-350" title="350">    data.final<span class="op">$</span>cat_act_research[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-351" title="351">  }</a>
<a class="sourceLine" id="cb8-352" title="352">}</a>
<a class="sourceLine" id="cb8-353" title="353"></a>
<a class="sourceLine" id="cb8-354" title="354"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-355" title="355"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu)</a>
<a class="sourceLine" id="cb8-356" title="356"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu_research)</a>
<a class="sourceLine" id="cb8-357" title="357"></a>
<a class="sourceLine" id="cb8-358" title="358"></a>
<a class="sourceLine" id="cb8-359" title="359"><span class="co">## Education + Restoration</span></a>
<a class="sourceLine" id="cb8-360" title="360"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-361" title="361"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu)</a>
<a class="sourceLine" id="cb8-362" title="362"></a>
<a class="sourceLine" id="cb8-363" title="363"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-364" title="364">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_edu[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-365" title="365">    data.final<span class="op">$</span>cat_act_edu_restor[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-366" title="366">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_edu_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-367" title="367">    data.final<span class="op">$</span>cat_act_edu[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-368" title="368">    data.final<span class="op">$</span>cat_act_restor[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-369" title="369">  }</a>
<a class="sourceLine" id="cb8-370" title="370">}</a>
<a class="sourceLine" id="cb8-371" title="371"></a>
<a class="sourceLine" id="cb8-372" title="372"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-373" title="373"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu)</a>
<a class="sourceLine" id="cb8-374" title="374"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_edu_restor)</a>
<a class="sourceLine" id="cb8-375" title="375"></a>
<a class="sourceLine" id="cb8-376" title="376"></a>
<a class="sourceLine" id="cb8-377" title="377"><span class="co">## Funding + Policy</span></a>
<a class="sourceLine" id="cb8-378" title="378"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-379" title="379"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_funding)</a>
<a class="sourceLine" id="cb8-380" title="380"></a>
<a class="sourceLine" id="cb8-381" title="381"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-382" title="382">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_funding[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_policy[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-383" title="383">    data.final<span class="op">$</span>cat_act_funding_policy[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-384" title="384">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_funding_policy[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-385" title="385">    data.final<span class="op">$</span>cat_act_funding[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-386" title="386">    data.final<span class="op">$</span>cat_act_policy[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-387" title="387">  }</a>
<a class="sourceLine" id="cb8-388" title="388">}</a>
<a class="sourceLine" id="cb8-389" title="389"></a>
<a class="sourceLine" id="cb8-390" title="390"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-391" title="391"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_funding)</a>
<a class="sourceLine" id="cb8-392" title="392"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_funding_policy)</a>
<a class="sourceLine" id="cb8-393" title="393"></a>
<a class="sourceLine" id="cb8-394" title="394"></a>
<a class="sourceLine" id="cb8-395" title="395"><span class="co">## Funding + Research</span></a>
<a class="sourceLine" id="cb8-396" title="396"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-397" title="397"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_funding)</a>
<a class="sourceLine" id="cb8-398" title="398"></a>
<a class="sourceLine" id="cb8-399" title="399"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-400" title="400">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_funding[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_research[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-401" title="401">    data.final<span class="op">$</span>cat_act_funding_research[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-402" title="402">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_funding_research[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-403" title="403">    data.final<span class="op">$</span>cat_act_funding[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-404" title="404">    data.final<span class="op">$</span>cat_act_research[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-405" title="405">  }</a>
<a class="sourceLine" id="cb8-406" title="406">}</a>
<a class="sourceLine" id="cb8-407" title="407"></a>
<a class="sourceLine" id="cb8-408" title="408"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-409" title="409"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_funding)</a>
<a class="sourceLine" id="cb8-410" title="410"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_funding_research)</a>
<a class="sourceLine" id="cb8-411" title="411"></a>
<a class="sourceLine" id="cb8-412" title="412"></a>
<a class="sourceLine" id="cb8-413" title="413"><span class="co">## Funding + Restoration</span></a>
<a class="sourceLine" id="cb8-414" title="414"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-415" title="415"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_funding)</a>
<a class="sourceLine" id="cb8-416" title="416"></a>
<a class="sourceLine" id="cb8-417" title="417"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-418" title="418">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_funding[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-419" title="419">    data.final<span class="op">$</span>cat_act_funding_restor[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-420" title="420">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_funding_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-421" title="421">    data.final<span class="op">$</span>cat_act_funding[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-422" title="422">    data.final<span class="op">$</span>cat_act_restor[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-423" title="423">  }</a>
<a class="sourceLine" id="cb8-424" title="424">}</a>
<a class="sourceLine" id="cb8-425" title="425"></a>
<a class="sourceLine" id="cb8-426" title="426"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-427" title="427"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_funding)</a>
<a class="sourceLine" id="cb8-428" title="428"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_funding_restor)</a>
<a class="sourceLine" id="cb8-429" title="429"></a>
<a class="sourceLine" id="cb8-430" title="430"></a>
<a class="sourceLine" id="cb8-431" title="431"><span class="co">## Policy + Research</span></a>
<a class="sourceLine" id="cb8-432" title="432"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-433" title="433"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_policy)</a>
<a class="sourceLine" id="cb8-434" title="434"></a>
<a class="sourceLine" id="cb8-435" title="435"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-436" title="436">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_policy[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_research[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-437" title="437">    data.final<span class="op">$</span>cat_act_policy_research[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-438" title="438">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_policy_research[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-439" title="439">    data.final<span class="op">$</span>cat_act_policy[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-440" title="440">    data.final<span class="op">$</span>cat_act_research[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-441" title="441">  }</a>
<a class="sourceLine" id="cb8-442" title="442">}</a>
<a class="sourceLine" id="cb8-443" title="443"></a>
<a class="sourceLine" id="cb8-444" title="444"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-445" title="445"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_policy)</a>
<a class="sourceLine" id="cb8-446" title="446"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_policy_research)</a>
<a class="sourceLine" id="cb8-447" title="447"></a>
<a class="sourceLine" id="cb8-448" title="448"></a>
<a class="sourceLine" id="cb8-449" title="449"><span class="co">## Policy + Restoration</span></a>
<a class="sourceLine" id="cb8-450" title="450"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-451" title="451"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_policy)</a>
<a class="sourceLine" id="cb8-452" title="452"></a>
<a class="sourceLine" id="cb8-453" title="453"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-454" title="454">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_policy[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-455" title="455">    data.final<span class="op">$</span>cat_act_policy_restor[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-456" title="456">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_policy_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-457" title="457">    data.final<span class="op">$</span>cat_act_policy[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-458" title="458">    data.final<span class="op">$</span>cat_act_restor[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-459" title="459">  }</a>
<a class="sourceLine" id="cb8-460" title="460">}</a>
<a class="sourceLine" id="cb8-461" title="461"></a>
<a class="sourceLine" id="cb8-462" title="462"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-463" title="463"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_policy)</a>
<a class="sourceLine" id="cb8-464" title="464"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_policy_restor)</a>
<a class="sourceLine" id="cb8-465" title="465"></a>
<a class="sourceLine" id="cb8-466" title="466"></a>
<a class="sourceLine" id="cb8-467" title="467"><span class="co">## Research + Restoration</span></a>
<a class="sourceLine" id="cb8-468" title="468"><span class="co">#test</span></a>
<a class="sourceLine" id="cb8-469" title="469"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_research)</a>
<a class="sourceLine" id="cb8-470" title="470"></a>
<a class="sourceLine" id="cb8-471" title="471"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb8-472" title="472">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_research[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_act_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-473" title="473">    data.final<span class="op">$</span>cat_act_research_restor[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb8-474" title="474">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_act_research_restor[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb8-475" title="475">    data.final<span class="op">$</span>cat_act_research[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-476" title="476">    data.final<span class="op">$</span>cat_act_restor[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb8-477" title="477">  }</a>
<a class="sourceLine" id="cb8-478" title="478">}</a>
<a class="sourceLine" id="cb8-479" title="479"></a>
<a class="sourceLine" id="cb8-480" title="480"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb8-481" title="481"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_research)</a>
<a class="sourceLine" id="cb8-482" title="482"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_act_research_restor)</a></code></pre></div>
</div>
<div id="multi-category-filtering-threat-categories" class="section level3">
<h3><span class="header-section-number">4.2.4</span> Multi-category Filtering: Threat Categories</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">threat &lt;-<span class="st"> </span>data.final[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">37</span><span class="op">:</span><span class="dv">42</span>)]</a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3">threat &lt;-<span class="st"> </span>threat <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sumAcross =</span> cat_threat_climate <span class="op">+</span><span class="st"> </span>cat_threat_energytransport <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="st">           </span>cat_threat_habitat <span class="op">+</span><span class="st"> </span>cat_threat_inv_spec <span class="op">+</span><span class="st"> </span>cat_threat_overexp <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="st">           </span>cat_threat_pollution) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb9-8" title="8"></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="co"># Checking number of grants/money for multiple threation category grants</span></a>
<a class="sourceLine" id="cb9-10" title="10">tot_threat &lt;-<span class="st"> </span><span class="kw">sum</span>(threat<span class="op">$</span>Grant.Amount) <span class="co"># total = </span></a>
<a class="sourceLine" id="cb9-11" title="11"></a>
<a class="sourceLine" id="cb9-12" title="12">threat4 &lt;-<span class="st"> </span>threat <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&lt;=</span><span class="st"> </span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb9-14" title="14"><span class="kw">nrow</span>(threat4)<span class="op">/</span><span class="kw">nrow</span>(threat)</a>
<a class="sourceLine" id="cb9-15" title="15"><span class="kw">sum</span>(threat4<span class="op">$</span>Grant.Amount)<span class="op">/</span>tot_threat</a>
<a class="sourceLine" id="cb9-16" title="16"><span class="co"># Retained all grants</span></a>
<a class="sourceLine" id="cb9-17" title="17"></a>
<a class="sourceLine" id="cb9-18" title="18">threat3 &lt;-<span class="st"> </span>threat <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-19" title="19"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&lt;=</span><span class="st"> </span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb9-20" title="20"><span class="kw">nrow</span>(threat3)<span class="op">/</span><span class="kw">nrow</span>(threat)</a>
<a class="sourceLine" id="cb9-21" title="21"><span class="kw">sum</span>(threat3<span class="op">$</span>Grant.Amount)<span class="op">/</span>tot_threat</a>
<a class="sourceLine" id="cb9-22" title="22"><span class="co"># Retained 99.75% of grants, 99.21% of money</span></a>
<a class="sourceLine" id="cb9-23" title="23"></a>
<a class="sourceLine" id="cb9-24" title="24">threat2 &lt;-<span class="st"> </span>threat <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-25" title="25"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&lt;=</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb9-26" title="26"><span class="kw">nrow</span>(threat2)<span class="op">/</span><span class="kw">nrow</span>(threat)</a>
<a class="sourceLine" id="cb9-27" title="27"><span class="kw">sum</span>(threat2<span class="op">$</span>Grant.Amount)<span class="op">/</span>tot_threat</a>
<a class="sourceLine" id="cb9-28" title="28"><span class="co"># Retained 96.95% of grants, 95.39% of money</span></a>
<a class="sourceLine" id="cb9-29" title="29"></a>
<a class="sourceLine" id="cb9-30" title="30">threat1 &lt;-<span class="st"> </span>threat <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-31" title="31"><span class="st">  </span><span class="kw">filter</span>(sumAcross <span class="op">&lt;=</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb9-32" title="32"><span class="kw">nrow</span>(threat1)<span class="op">/</span><span class="kw">nrow</span>(threat)</a>
<a class="sourceLine" id="cb9-33" title="33"><span class="kw">sum</span>(threat1<span class="op">$</span>Grant.Amount)<span class="op">/</span>tot_threat</a>
<a class="sourceLine" id="cb9-34" title="34"><span class="co"># Retained 77.55% of grants, 72.19% of money</span></a>
<a class="sourceLine" id="cb9-35" title="35"></a>
<a class="sourceLine" id="cb9-36" title="36">n_threats &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb9-37" title="37">n_threat_grants &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">nrow</span>(threat1), </a>
<a class="sourceLine" id="cb9-38" title="38">                  <span class="kw">nrow</span>(threat2) <span class="op">-</span><span class="st"> </span><span class="kw">nrow</span>(threat1), </a>
<a class="sourceLine" id="cb9-39" title="39">                  <span class="kw">nrow</span>(threat3) <span class="op">-</span><span class="st"> </span><span class="kw">nrow</span>(threat2),</a>
<a class="sourceLine" id="cb9-40" title="40">                  <span class="kw">nrow</span>(threat4) <span class="op">-</span><span class="st"> </span><span class="kw">nrow</span>(threat3))</a>
<a class="sourceLine" id="cb9-41" title="41"></a>
<a class="sourceLine" id="cb9-42" title="42">threats &lt;-<span class="st"> </span><span class="kw">data.frame</span>(n_threats, n_threat_grants)</a>
<a class="sourceLine" id="cb9-43" title="43"><span class="kw">ggplot</span>(threats, <span class="kw">aes</span>(<span class="dt">x =</span> n_threats, <span class="dt">y =</span> n_threat_grants)) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-44" title="44"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb9-45" title="45"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;# Grants in Multiple Threat Categories&quot;</span>)</a>
<a class="sourceLine" id="cb9-46" title="46"></a>
<a class="sourceLine" id="cb9-47" title="47"><span class="co">#### &gt;2 category grants (threat_other)</span></a>
<a class="sourceLine" id="cb9-48" title="48"></a>
<a class="sourceLine" id="cb9-49" title="49">threat_other &lt;-<span class="st"> </span>data.final <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-50" title="50"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sum_threat =</span> cat_threat_climate <span class="op">+</span><span class="st"> </span>cat_threat_energytransport <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-51" title="51"><span class="st">           </span>cat_threat_habitat <span class="op">+</span><span class="st"> </span>cat_threat_inv_spec <span class="op">+</span><span class="st"> </span>cat_threat_overexp <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-52" title="52"><span class="st">           </span>cat_threat_pollution) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-53" title="53"><span class="st">  </span><span class="kw">filter</span>(sum_threat <span class="op">&gt;</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb9-54" title="54"></a>
<a class="sourceLine" id="cb9-55" title="55"><span class="co">#### Adding 2-threat categories</span></a>
<a class="sourceLine" id="cb9-56" title="56"></a>
<a class="sourceLine" id="cb9-57" title="57">data.final &lt;-<span class="st"> </span>data.final <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-58" title="58"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cat_threat_climate_energytransport =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-59" title="59">         <span class="dt">cat_threat_climate_habitat =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-60" title="60">         <span class="dt">cat_threat_climate_inv_spec =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-61" title="61">         <span class="dt">cat_threat_climate_overexp =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-62" title="62">         <span class="dt">cat_threat_climate_pollution =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-63" title="63">         <span class="dt">cat_threat_energytransport_habitat =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-64" title="64">         <span class="dt">cat_threat_energytransport_inv_spec =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-65" title="65">         <span class="dt">cat_threat_energytransport_overexp =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-66" title="66">         <span class="dt">cat_threat_energytransport_pollution =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-67" title="67">         <span class="dt">cat_threat_habitat_inv_spec =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-68" title="68">         <span class="dt">cat_threat_habitat_overexp =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-69" title="69">         <span class="dt">cat_threat_habitat_pollution =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-70" title="70">         <span class="dt">cat_threat_inv_spec_overexp =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-71" title="71">         <span class="dt">cat_threat_inv_spec_pollution =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-72" title="72">         <span class="dt">cat_threat_overexp_pollution =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb9-73" title="73">         <span class="dt">cat_threat_other =</span> <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb9-74" title="74"></a>
<a class="sourceLine" id="cb9-75" title="75"></a>
<a class="sourceLine" id="cb9-76" title="76"></a>
<a class="sourceLine" id="cb9-77" title="77"><span class="co">#### Filling Mulitple Threat cells ####</span></a>
<a class="sourceLine" id="cb9-78" title="78"></a>
<a class="sourceLine" id="cb9-79" title="79"><span class="co">## Other Threats (&gt;2 Categories)</span></a>
<a class="sourceLine" id="cb9-80" title="80"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-81" title="81"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_overexp)</a>
<a class="sourceLine" id="cb9-82" title="82"></a>
<a class="sourceLine" id="cb9-83" title="83"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-84" title="84">  <span class="cf">if</span>(<span class="kw">sum</span>(data.final[i,<span class="dv">37</span><span class="op">:</span><span class="dv">42</span>]) <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb9-85" title="85">    data.final<span class="op">$</span>cat_threat_other[i] =<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb9-86" title="86">    data.final[i, <span class="dv">37</span><span class="op">:</span><span class="dv">42</span>] =<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb9-87" title="87">  }</a>
<a class="sourceLine" id="cb9-88" title="88">}</a>
<a class="sourceLine" id="cb9-89" title="89"></a>
<a class="sourceLine" id="cb9-90" title="90"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-91" title="91"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_overexp)</a>
<a class="sourceLine" id="cb9-92" title="92"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_other) <span class="co"># matches nrow of threats_other DF</span></a>
<a class="sourceLine" id="cb9-93" title="93"></a>
<a class="sourceLine" id="cb9-94" title="94"></a>
<a class="sourceLine" id="cb9-95" title="95"><span class="co">## Climate + Energy/Transportation</span></a>
<a class="sourceLine" id="cb9-96" title="96"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-97" title="97"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate)</a>
<a class="sourceLine" id="cb9-98" title="98"></a>
<a class="sourceLine" id="cb9-99" title="99"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-100" title="100">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_climate[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_energytransport[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-101" title="101">    data.final<span class="op">$</span>cat_threat_climate_energytransport[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-102" title="102">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_climate_energytransport[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-103" title="103">    data.final<span class="op">$</span>cat_threat_climate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-104" title="104">    data.final<span class="op">$</span>cat_threat_energytransport[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-105" title="105">  }</a>
<a class="sourceLine" id="cb9-106" title="106">}</a>
<a class="sourceLine" id="cb9-107" title="107"></a>
<a class="sourceLine" id="cb9-108" title="108"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-109" title="109"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate)</a>
<a class="sourceLine" id="cb9-110" title="110"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate_energytransport)</a>
<a class="sourceLine" id="cb9-111" title="111"></a>
<a class="sourceLine" id="cb9-112" title="112"></a>
<a class="sourceLine" id="cb9-113" title="113"><span class="co">## Climate + Habitat</span></a>
<a class="sourceLine" id="cb9-114" title="114"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-115" title="115"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate)</a>
<a class="sourceLine" id="cb9-116" title="116"></a>
<a class="sourceLine" id="cb9-117" title="117"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-118" title="118">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_climate[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_habitat[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-119" title="119">    data.final<span class="op">$</span>cat_threat_climate_habitat[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-120" title="120">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_climate_habitat[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-121" title="121">    data.final<span class="op">$</span>cat_threat_climate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-122" title="122">    data.final<span class="op">$</span>cat_threat_habitat[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-123" title="123">  }</a>
<a class="sourceLine" id="cb9-124" title="124">}</a>
<a class="sourceLine" id="cb9-125" title="125"></a>
<a class="sourceLine" id="cb9-126" title="126"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-127" title="127"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate)</a>
<a class="sourceLine" id="cb9-128" title="128"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate_habitat)</a>
<a class="sourceLine" id="cb9-129" title="129"></a>
<a class="sourceLine" id="cb9-130" title="130"></a>
<a class="sourceLine" id="cb9-131" title="131"><span class="co">## Climate + Invasive Species</span></a>
<a class="sourceLine" id="cb9-132" title="132"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-133" title="133"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate)</a>
<a class="sourceLine" id="cb9-134" title="134"></a>
<a class="sourceLine" id="cb9-135" title="135"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-136" title="136">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_climate[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_inv_spec[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-137" title="137">    data.final<span class="op">$</span>cat_threat_climate_inv_spec[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-138" title="138">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_climate_inv_spec[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-139" title="139">    data.final<span class="op">$</span>cat_threat_climate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-140" title="140">    data.final<span class="op">$</span>cat_threat_inv_spec[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-141" title="141">  }</a>
<a class="sourceLine" id="cb9-142" title="142">}</a>
<a class="sourceLine" id="cb9-143" title="143"></a>
<a class="sourceLine" id="cb9-144" title="144"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-145" title="145"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate)</a>
<a class="sourceLine" id="cb9-146" title="146"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate_inv_spec)</a>
<a class="sourceLine" id="cb9-147" title="147"></a>
<a class="sourceLine" id="cb9-148" title="148"></a>
<a class="sourceLine" id="cb9-149" title="149"><span class="co">## Climate + Overexploitation</span></a>
<a class="sourceLine" id="cb9-150" title="150"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-151" title="151"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate)</a>
<a class="sourceLine" id="cb9-152" title="152"></a>
<a class="sourceLine" id="cb9-153" title="153"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-154" title="154">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_climate[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_overexp[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-155" title="155">    data.final<span class="op">$</span>cat_threat_climate_overexp[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-156" title="156">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_climate_overexp[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-157" title="157">    data.final<span class="op">$</span>cat_threat_climate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-158" title="158">    data.final<span class="op">$</span>cat_threat_overexp[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-159" title="159">  }</a>
<a class="sourceLine" id="cb9-160" title="160">}</a>
<a class="sourceLine" id="cb9-161" title="161"></a>
<a class="sourceLine" id="cb9-162" title="162"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-163" title="163"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate)</a>
<a class="sourceLine" id="cb9-164" title="164"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate_overexp)</a>
<a class="sourceLine" id="cb9-165" title="165"></a>
<a class="sourceLine" id="cb9-166" title="166"></a>
<a class="sourceLine" id="cb9-167" title="167"><span class="co">## Climate + Pollution</span></a>
<a class="sourceLine" id="cb9-168" title="168"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-169" title="169"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate)</a>
<a class="sourceLine" id="cb9-170" title="170"></a>
<a class="sourceLine" id="cb9-171" title="171"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-172" title="172">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_climate[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_pollution[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-173" title="173">    data.final<span class="op">$</span>cat_threat_climate_pollution[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-174" title="174">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_climate_pollution[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-175" title="175">    data.final<span class="op">$</span>cat_threat_climate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-176" title="176">    data.final<span class="op">$</span>cat_threat_pollution[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-177" title="177">  }</a>
<a class="sourceLine" id="cb9-178" title="178">}</a>
<a class="sourceLine" id="cb9-179" title="179"></a>
<a class="sourceLine" id="cb9-180" title="180"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-181" title="181"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate)</a>
<a class="sourceLine" id="cb9-182" title="182"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_climate_pollution)</a>
<a class="sourceLine" id="cb9-183" title="183"></a>
<a class="sourceLine" id="cb9-184" title="184"></a>
<a class="sourceLine" id="cb9-185" title="185"><span class="co">## Energy/Transportation + Habitat</span></a>
<a class="sourceLine" id="cb9-186" title="186"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-187" title="187"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport)</a>
<a class="sourceLine" id="cb9-188" title="188"></a>
<a class="sourceLine" id="cb9-189" title="189"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-190" title="190">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_energytransport[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_habitat[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-191" title="191">    data.final<span class="op">$</span>cat_threat_energytransport_habitat[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-192" title="192">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_energytransport_habitat[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-193" title="193">    data.final<span class="op">$</span>cat_threat_energytransport[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-194" title="194">    data.final<span class="op">$</span>cat_threat_habitat[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-195" title="195">  }</a>
<a class="sourceLine" id="cb9-196" title="196">}</a>
<a class="sourceLine" id="cb9-197" title="197"></a>
<a class="sourceLine" id="cb9-198" title="198"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-199" title="199"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport)</a>
<a class="sourceLine" id="cb9-200" title="200"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport_habitat)</a>
<a class="sourceLine" id="cb9-201" title="201"></a>
<a class="sourceLine" id="cb9-202" title="202"></a>
<a class="sourceLine" id="cb9-203" title="203"><span class="co">## Energy/Transportation + Invasive Species</span></a>
<a class="sourceLine" id="cb9-204" title="204"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-205" title="205"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport)</a>
<a class="sourceLine" id="cb9-206" title="206"></a>
<a class="sourceLine" id="cb9-207" title="207"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-208" title="208">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_energytransport[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_inv_spec[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-209" title="209">    data.final<span class="op">$</span>cat_threat_energytransport_inv_spec[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-210" title="210">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_energytransport_inv_spec[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-211" title="211">    data.final<span class="op">$</span>cat_threat_energytransport[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-212" title="212">    data.final<span class="op">$</span>cat_threat_inv_spec[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-213" title="213">  }</a>
<a class="sourceLine" id="cb9-214" title="214">}</a>
<a class="sourceLine" id="cb9-215" title="215"></a>
<a class="sourceLine" id="cb9-216" title="216"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-217" title="217"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport)</a>
<a class="sourceLine" id="cb9-218" title="218"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport_inv_spec)</a>
<a class="sourceLine" id="cb9-219" title="219"></a>
<a class="sourceLine" id="cb9-220" title="220"></a>
<a class="sourceLine" id="cb9-221" title="221"><span class="co">## Energy/Transportation + Overexploitation</span></a>
<a class="sourceLine" id="cb9-222" title="222"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-223" title="223"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport)</a>
<a class="sourceLine" id="cb9-224" title="224"></a>
<a class="sourceLine" id="cb9-225" title="225"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-226" title="226">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_energytransport[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_overexp[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-227" title="227">    data.final<span class="op">$</span>cat_threat_energytransport_overexp[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-228" title="228">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_energytransport_overexp[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-229" title="229">    data.final<span class="op">$</span>cat_threat_energytransport[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-230" title="230">    data.final<span class="op">$</span>cat_threat_overexp[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-231" title="231">  }</a>
<a class="sourceLine" id="cb9-232" title="232">}</a>
<a class="sourceLine" id="cb9-233" title="233"></a>
<a class="sourceLine" id="cb9-234" title="234"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-235" title="235"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport)</a>
<a class="sourceLine" id="cb9-236" title="236"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport_overexp)</a>
<a class="sourceLine" id="cb9-237" title="237"></a>
<a class="sourceLine" id="cb9-238" title="238"></a>
<a class="sourceLine" id="cb9-239" title="239"><span class="co">## Energy/Transportation + Pollution</span></a>
<a class="sourceLine" id="cb9-240" title="240"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-241" title="241"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport)</a>
<a class="sourceLine" id="cb9-242" title="242"></a>
<a class="sourceLine" id="cb9-243" title="243"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-244" title="244">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_energytransport[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_pollution[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-245" title="245">    data.final<span class="op">$</span>cat_threat_energytransport_pollution[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-246" title="246">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_energytransport_pollution[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-247" title="247">    data.final<span class="op">$</span>cat_threat_energytransport[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-248" title="248">    data.final<span class="op">$</span>cat_threat_pollution[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-249" title="249">  }</a>
<a class="sourceLine" id="cb9-250" title="250">}</a>
<a class="sourceLine" id="cb9-251" title="251"></a>
<a class="sourceLine" id="cb9-252" title="252"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-253" title="253"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport)</a>
<a class="sourceLine" id="cb9-254" title="254"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_energytransport_pollution)</a>
<a class="sourceLine" id="cb9-255" title="255"></a>
<a class="sourceLine" id="cb9-256" title="256"></a>
<a class="sourceLine" id="cb9-257" title="257"><span class="co">## Habitat + Invasive Species</span></a>
<a class="sourceLine" id="cb9-258" title="258"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-259" title="259"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_habitat)</a>
<a class="sourceLine" id="cb9-260" title="260"></a>
<a class="sourceLine" id="cb9-261" title="261"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-262" title="262">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_habitat[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_inv_spec[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-263" title="263">    data.final<span class="op">$</span>cat_threat_habitat_inv_spec[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-264" title="264">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_habitat_inv_spec[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-265" title="265">    data.final<span class="op">$</span>cat_threat_habitat[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-266" title="266">    data.final<span class="op">$</span>cat_threat_inv_spec[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-267" title="267">  }</a>
<a class="sourceLine" id="cb9-268" title="268">}</a>
<a class="sourceLine" id="cb9-269" title="269"></a>
<a class="sourceLine" id="cb9-270" title="270"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-271" title="271"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_habitat)</a>
<a class="sourceLine" id="cb9-272" title="272"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_habitat_inv_spec)</a>
<a class="sourceLine" id="cb9-273" title="273"></a>
<a class="sourceLine" id="cb9-274" title="274"></a>
<a class="sourceLine" id="cb9-275" title="275"><span class="co">## Habitat + Overexploitation</span></a>
<a class="sourceLine" id="cb9-276" title="276"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-277" title="277"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_habitat)</a>
<a class="sourceLine" id="cb9-278" title="278"></a>
<a class="sourceLine" id="cb9-279" title="279"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-280" title="280">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_habitat[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_overexp[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-281" title="281">    data.final<span class="op">$</span>cat_threat_habitat_overexp[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-282" title="282">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_habitat_overexp[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-283" title="283">    data.final<span class="op">$</span>cat_threat_habitat[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-284" title="284">    data.final<span class="op">$</span>cat_threat_overexp[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-285" title="285">  }</a>
<a class="sourceLine" id="cb9-286" title="286">}</a>
<a class="sourceLine" id="cb9-287" title="287"></a>
<a class="sourceLine" id="cb9-288" title="288"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-289" title="289"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_habitat)</a>
<a class="sourceLine" id="cb9-290" title="290"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_habitat_overexp)</a>
<a class="sourceLine" id="cb9-291" title="291"></a>
<a class="sourceLine" id="cb9-292" title="292"></a>
<a class="sourceLine" id="cb9-293" title="293"><span class="co">## Habitat + Pollution</span></a>
<a class="sourceLine" id="cb9-294" title="294"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-295" title="295"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_habitat)</a>
<a class="sourceLine" id="cb9-296" title="296"></a>
<a class="sourceLine" id="cb9-297" title="297"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-298" title="298">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_habitat[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_pollution[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-299" title="299">    data.final<span class="op">$</span>cat_threat_habitat_pollution[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-300" title="300">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_habitat_pollution[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-301" title="301">    data.final<span class="op">$</span>cat_threat_habitat[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-302" title="302">    data.final<span class="op">$</span>cat_threat_pollution[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-303" title="303">  }</a>
<a class="sourceLine" id="cb9-304" title="304">}</a>
<a class="sourceLine" id="cb9-305" title="305"></a>
<a class="sourceLine" id="cb9-306" title="306"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-307" title="307"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_habitat)</a>
<a class="sourceLine" id="cb9-308" title="308"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_habitat_pollution)</a>
<a class="sourceLine" id="cb9-309" title="309"></a>
<a class="sourceLine" id="cb9-310" title="310"></a>
<a class="sourceLine" id="cb9-311" title="311"><span class="co">## Invasive Species + Overexploitation</span></a>
<a class="sourceLine" id="cb9-312" title="312"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-313" title="313"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_inv_spec)</a>
<a class="sourceLine" id="cb9-314" title="314"></a>
<a class="sourceLine" id="cb9-315" title="315"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-316" title="316">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_inv_spec[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_overexp[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-317" title="317">    data.final<span class="op">$</span>cat_threat_inv_spec_overexp[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-318" title="318">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_inv_spec_overexp[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-319" title="319">    data.final<span class="op">$</span>cat_threat_inv_spec[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-320" title="320">    data.final<span class="op">$</span>cat_threat_overexp[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-321" title="321">  }</a>
<a class="sourceLine" id="cb9-322" title="322">}</a>
<a class="sourceLine" id="cb9-323" title="323"></a>
<a class="sourceLine" id="cb9-324" title="324"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-325" title="325"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_inv_spec)</a>
<a class="sourceLine" id="cb9-326" title="326"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_inv_spec_overexp)</a>
<a class="sourceLine" id="cb9-327" title="327"></a>
<a class="sourceLine" id="cb9-328" title="328"></a>
<a class="sourceLine" id="cb9-329" title="329"><span class="co">## Invasive Species + Pollution</span></a>
<a class="sourceLine" id="cb9-330" title="330"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-331" title="331"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_inv_spec)</a>
<a class="sourceLine" id="cb9-332" title="332"></a>
<a class="sourceLine" id="cb9-333" title="333"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-334" title="334">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_inv_spec[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_pollution[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-335" title="335">    data.final<span class="op">$</span>cat_threat_inv_spec_pollution[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-336" title="336">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_inv_spec_pollution[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-337" title="337">    data.final<span class="op">$</span>cat_threat_inv_spec[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-338" title="338">    data.final<span class="op">$</span>cat_threat_pollution[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-339" title="339">  }</a>
<a class="sourceLine" id="cb9-340" title="340">}</a>
<a class="sourceLine" id="cb9-341" title="341"></a>
<a class="sourceLine" id="cb9-342" title="342"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-343" title="343"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_inv_spec)</a>
<a class="sourceLine" id="cb9-344" title="344"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_inv_spec_pollution)</a>
<a class="sourceLine" id="cb9-345" title="345"></a>
<a class="sourceLine" id="cb9-346" title="346"></a>
<a class="sourceLine" id="cb9-347" title="347"><span class="co">## Overexploitation + Pollution</span></a>
<a class="sourceLine" id="cb9-348" title="348"><span class="co">#test</span></a>
<a class="sourceLine" id="cb9-349" title="349"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_overexp)</a>
<a class="sourceLine" id="cb9-350" title="350"></a>
<a class="sourceLine" id="cb9-351" title="351"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb9-352" title="352">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_overexp[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_threat_pollution[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-353" title="353">    data.final<span class="op">$</span>cat_threat_overexp_pollution[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb9-354" title="354">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_threat_overexp_pollution[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb9-355" title="355">    data.final<span class="op">$</span>cat_threat_overexp[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-356" title="356">    data.final<span class="op">$</span>cat_threat_pollution[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb9-357" title="357">  }</a>
<a class="sourceLine" id="cb9-358" title="358">}</a>
<a class="sourceLine" id="cb9-359" title="359"></a>
<a class="sourceLine" id="cb9-360" title="360"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb9-361" title="361"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_overexp)</a>
<a class="sourceLine" id="cb9-362" title="362"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_threat_overexp_pollution)</a></code></pre></div>
</div>
<div id="multi-category-filtering-taxa-category" class="section level3">
<h3><span class="header-section-number">4.2.5</span> Multi-category Filtering: Taxa Category</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">taxa &lt;-<span class="st"> </span>data.final[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">30</span><span class="op">:</span><span class="dv">36</span>)]</a>
<a class="sourceLine" id="cb10-2" title="2"></a>
<a class="sourceLine" id="cb10-3" title="3">taxa_other &lt;-<span class="st"> </span>data.final <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sum_taxa =</span> <span class="kw">rowSums</span>(.[<span class="dv">30</span><span class="op">:</span><span class="dv">36</span>])) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="st">  </span><span class="kw">filter</span>(sum_taxa <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb10-6" title="6"></a>
<a class="sourceLine" id="cb10-7" title="7"></a>
<a class="sourceLine" id="cb10-8" title="8"><span class="co">## Adding 2-taxa categories and other</span></a>
<a class="sourceLine" id="cb10-9" title="9">data.final &lt;-<span class="st"> </span>data.final <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-10" title="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cat_taxa_amphibian_bird =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-11" title="11">         <span class="dt">cat_taxa_amphibian_fish =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-12" title="12">         <span class="dt">cat_taxa_amphibian_invertebrate =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-13" title="13">         <span class="dt">cat_taxa_amphibian_mammal =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-14" title="14">         <span class="dt">cat_taxa_amphibian_plant =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-15" title="15">         <span class="dt">cat_taxa_amphibian_reptile =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-16" title="16">         <span class="dt">cat_taxa_bird_fish =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-17" title="17">         <span class="dt">cat_taxa_bird_invertebrate =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-18" title="18">         <span class="dt">cat_taxa_bird_mammal =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-19" title="19">         <span class="dt">cat_taxa_bird_plant =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-20" title="20">         <span class="dt">cat_taxa_bird_reptile =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-21" title="21">         <span class="dt">cat_taxa_fish_invertebrate =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-22" title="22">         <span class="dt">cat_taxa_fish_mammal =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-23" title="23">         <span class="dt">cat_taxa_fish_plant =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-24" title="24">         <span class="dt">cat_taxa_fish_reptile =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-25" title="25">         <span class="dt">cat_taxa_invertebrate_mammal =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-26" title="26">         <span class="dt">cat_taxa_invertebrate_plant =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-27" title="27">         <span class="dt">cat_taxa_invertebrate_reptile =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-28" title="28">         <span class="dt">cat_taxa_mammal_plant =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-29" title="29">         <span class="dt">cat_taxa_mammal_reptile =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-30" title="30">         <span class="dt">cat_taxa_plant_reptile =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb10-31" title="31">         <span class="dt">cat_taxa_other =</span> <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb10-32" title="32"></a>
<a class="sourceLine" id="cb10-33" title="33"><span class="co">#### Filling Multiple Taxa cells ####</span></a>
<a class="sourceLine" id="cb10-34" title="34"></a>
<a class="sourceLine" id="cb10-35" title="35"><span class="co">## Other Taxa (&gt;2 classifications)</span></a>
<a class="sourceLine" id="cb10-36" title="36"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-37" title="37"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_plant)</a>
<a class="sourceLine" id="cb10-38" title="38"></a>
<a class="sourceLine" id="cb10-39" title="39"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)) {</a>
<a class="sourceLine" id="cb10-40" title="40">  <span class="cf">if</span>(<span class="kw">sum</span>(data.final[i,<span class="dv">30</span><span class="op">:</span><span class="dv">36</span>]) <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb10-41" title="41">    data.final<span class="op">$</span>cat_taxa_other[i] =<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb10-42" title="42">    data.final[i,<span class="dv">30</span><span class="op">:</span><span class="dv">36</span>] =<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb10-43" title="43">  }</a>
<a class="sourceLine" id="cb10-44" title="44">}</a>
<a class="sourceLine" id="cb10-45" title="45"></a>
<a class="sourceLine" id="cb10-46" title="46"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-47" title="47"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_plant)</a>
<a class="sourceLine" id="cb10-48" title="48"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_other) <span class="co"># matches nrow of taxa_other DF</span></a>
<a class="sourceLine" id="cb10-49" title="49"></a>
<a class="sourceLine" id="cb10-50" title="50"></a>
<a class="sourceLine" id="cb10-51" title="51"><span class="co">## amphibian + bird</span></a>
<a class="sourceLine" id="cb10-52" title="52"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-53" title="53"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-54" title="54"></a>
<a class="sourceLine" id="cb10-55" title="55"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-56" title="56">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_bird[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-57" title="57">    data.final<span class="op">$</span>cat_taxa_amphibian_bird[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-58" title="58">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian_bird[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-59" title="59">    data.final<span class="op">$</span>cat_taxa_amphibian[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-60" title="60">    data.final<span class="op">$</span>cat_taxa_bird[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-61" title="61">  }</a>
<a class="sourceLine" id="cb10-62" title="62">}</a>
<a class="sourceLine" id="cb10-63" title="63"></a>
<a class="sourceLine" id="cb10-64" title="64"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-65" title="65"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-66" title="66"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian_bird)</a>
<a class="sourceLine" id="cb10-67" title="67"></a>
<a class="sourceLine" id="cb10-68" title="68"></a>
<a class="sourceLine" id="cb10-69" title="69"><span class="co">## amphibian + fish</span></a>
<a class="sourceLine" id="cb10-70" title="70"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-71" title="71"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-72" title="72"></a>
<a class="sourceLine" id="cb10-73" title="73"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-74" title="74">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_fish[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-75" title="75">    data.final<span class="op">$</span>cat_taxa_amphibian_fish[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-76" title="76">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian_fish[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-77" title="77">    data.final<span class="op">$</span>cat_taxa_amphibian[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-78" title="78">    data.final<span class="op">$</span>cat_taxa_fish[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-79" title="79">  }</a>
<a class="sourceLine" id="cb10-80" title="80">}</a>
<a class="sourceLine" id="cb10-81" title="81"></a>
<a class="sourceLine" id="cb10-82" title="82"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-83" title="83"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-84" title="84"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian_fish)</a>
<a class="sourceLine" id="cb10-85" title="85"></a>
<a class="sourceLine" id="cb10-86" title="86"></a>
<a class="sourceLine" id="cb10-87" title="87"><span class="co">## amphibian + invertebrate</span></a>
<a class="sourceLine" id="cb10-88" title="88"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-89" title="89"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-90" title="90"></a>
<a class="sourceLine" id="cb10-91" title="91"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-92" title="92">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_invertebrate[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-93" title="93">    data.final<span class="op">$</span>cat_taxa_amphibian_invertebrate[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-94" title="94">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian_invertebrate[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-95" title="95">    data.final<span class="op">$</span>cat_taxa_amphibian[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-96" title="96">    data.final<span class="op">$</span>cat_taxa_invertebrate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-97" title="97">  }</a>
<a class="sourceLine" id="cb10-98" title="98">}</a>
<a class="sourceLine" id="cb10-99" title="99"></a>
<a class="sourceLine" id="cb10-100" title="100"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-101" title="101"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-102" title="102"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian_invertebrate)</a>
<a class="sourceLine" id="cb10-103" title="103"></a>
<a class="sourceLine" id="cb10-104" title="104"></a>
<a class="sourceLine" id="cb10-105" title="105"><span class="co">## amphibian + mammal</span></a>
<a class="sourceLine" id="cb10-106" title="106"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-107" title="107"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-108" title="108"></a>
<a class="sourceLine" id="cb10-109" title="109"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-110" title="110">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_mammal[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-111" title="111">    data.final<span class="op">$</span>cat_taxa_amphibian_mammal[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-112" title="112">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian_mammal[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-113" title="113">    data.final<span class="op">$</span>cat_taxa_amphibian[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-114" title="114">    data.final<span class="op">$</span>cat_taxa_mammal[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-115" title="115">  }</a>
<a class="sourceLine" id="cb10-116" title="116">}</a>
<a class="sourceLine" id="cb10-117" title="117"></a>
<a class="sourceLine" id="cb10-118" title="118"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-119" title="119"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-120" title="120"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian_mammal)</a>
<a class="sourceLine" id="cb10-121" title="121"></a>
<a class="sourceLine" id="cb10-122" title="122"></a>
<a class="sourceLine" id="cb10-123" title="123"><span class="co">## amphibian + plant</span></a>
<a class="sourceLine" id="cb10-124" title="124"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-125" title="125"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-126" title="126"></a>
<a class="sourceLine" id="cb10-127" title="127"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-128" title="128">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_plant[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-129" title="129">    data.final<span class="op">$</span>cat_taxa_amphibian_plant[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-130" title="130">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian_plant[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-131" title="131">    data.final<span class="op">$</span>cat_taxa_amphibian[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-132" title="132">    data.final<span class="op">$</span>cat_taxa_plant[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-133" title="133">  }</a>
<a class="sourceLine" id="cb10-134" title="134">}</a>
<a class="sourceLine" id="cb10-135" title="135"></a>
<a class="sourceLine" id="cb10-136" title="136"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-137" title="137"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-138" title="138"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian_plant)</a>
<a class="sourceLine" id="cb10-139" title="139"></a>
<a class="sourceLine" id="cb10-140" title="140"></a>
<a class="sourceLine" id="cb10-141" title="141"><span class="co">## amphibian + reptile</span></a>
<a class="sourceLine" id="cb10-142" title="142"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-143" title="143"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-144" title="144"></a>
<a class="sourceLine" id="cb10-145" title="145"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-146" title="146">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-147" title="147">    data.final<span class="op">$</span>cat_taxa_amphibian_reptile[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-148" title="148">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_amphibian_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-149" title="149">    data.final<span class="op">$</span>cat_taxa_amphibian[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-150" title="150">    data.final<span class="op">$</span>cat_taxa_reptile[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-151" title="151">  }</a>
<a class="sourceLine" id="cb10-152" title="152">}</a>
<a class="sourceLine" id="cb10-153" title="153"></a>
<a class="sourceLine" id="cb10-154" title="154"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-155" title="155"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian)</a>
<a class="sourceLine" id="cb10-156" title="156"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_amphibian_reptile)</a>
<a class="sourceLine" id="cb10-157" title="157"></a>
<a class="sourceLine" id="cb10-158" title="158"></a>
<a class="sourceLine" id="cb10-159" title="159"><span class="co">## bird + fish</span></a>
<a class="sourceLine" id="cb10-160" title="160"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-161" title="161"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird)</a>
<a class="sourceLine" id="cb10-162" title="162"></a>
<a class="sourceLine" id="cb10-163" title="163"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-164" title="164">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_bird[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_fish[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-165" title="165">    data.final<span class="op">$</span>cat_taxa_bird_fish[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-166" title="166">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_bird_fish[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-167" title="167">    data.final<span class="op">$</span>cat_taxa_bird[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-168" title="168">    data.final<span class="op">$</span>cat_taxa_fish[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-169" title="169">  }</a>
<a class="sourceLine" id="cb10-170" title="170">}</a>
<a class="sourceLine" id="cb10-171" title="171"></a>
<a class="sourceLine" id="cb10-172" title="172"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-173" title="173"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird)</a>
<a class="sourceLine" id="cb10-174" title="174"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird_fish)</a>
<a class="sourceLine" id="cb10-175" title="175"></a>
<a class="sourceLine" id="cb10-176" title="176"></a>
<a class="sourceLine" id="cb10-177" title="177"><span class="co">## bird + invertebrate</span></a>
<a class="sourceLine" id="cb10-178" title="178"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-179" title="179"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird)</a>
<a class="sourceLine" id="cb10-180" title="180"></a>
<a class="sourceLine" id="cb10-181" title="181"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-182" title="182">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_bird[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_invertebrate[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-183" title="183">    data.final<span class="op">$</span>cat_taxa_bird_invertebrate[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-184" title="184">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_bird_invertebrate[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-185" title="185">    data.final<span class="op">$</span>cat_taxa_bird[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-186" title="186">    data.final<span class="op">$</span>cat_taxa_invertebrate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-187" title="187">  }</a>
<a class="sourceLine" id="cb10-188" title="188">}</a>
<a class="sourceLine" id="cb10-189" title="189"></a>
<a class="sourceLine" id="cb10-190" title="190"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-191" title="191"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird)</a>
<a class="sourceLine" id="cb10-192" title="192"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird_invertebrate)</a>
<a class="sourceLine" id="cb10-193" title="193"></a>
<a class="sourceLine" id="cb10-194" title="194"></a>
<a class="sourceLine" id="cb10-195" title="195"><span class="co">## bird + mammal</span></a>
<a class="sourceLine" id="cb10-196" title="196"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-197" title="197"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird)</a>
<a class="sourceLine" id="cb10-198" title="198"></a>
<a class="sourceLine" id="cb10-199" title="199"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-200" title="200">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_bird[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_mammal[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-201" title="201">    data.final<span class="op">$</span>cat_taxa_bird_mammal[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-202" title="202">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_bird_mammal[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-203" title="203">    data.final<span class="op">$</span>cat_taxa_bird[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-204" title="204">    data.final<span class="op">$</span>cat_taxa_mammal[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-205" title="205">  }</a>
<a class="sourceLine" id="cb10-206" title="206">}</a>
<a class="sourceLine" id="cb10-207" title="207"></a>
<a class="sourceLine" id="cb10-208" title="208"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-209" title="209"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird)</a>
<a class="sourceLine" id="cb10-210" title="210"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird_mammal)</a>
<a class="sourceLine" id="cb10-211" title="211"></a>
<a class="sourceLine" id="cb10-212" title="212"></a>
<a class="sourceLine" id="cb10-213" title="213"><span class="co">## bird + plant</span></a>
<a class="sourceLine" id="cb10-214" title="214"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-215" title="215"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird)</a>
<a class="sourceLine" id="cb10-216" title="216"></a>
<a class="sourceLine" id="cb10-217" title="217"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-218" title="218">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_bird[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_plant[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-219" title="219">    data.final<span class="op">$</span>cat_taxa_bird_plant[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-220" title="220">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_bird_plant[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-221" title="221">    data.final<span class="op">$</span>cat_taxa_bird[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-222" title="222">    data.final<span class="op">$</span>cat_taxa_plant[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-223" title="223">  }</a>
<a class="sourceLine" id="cb10-224" title="224">}</a>
<a class="sourceLine" id="cb10-225" title="225"></a>
<a class="sourceLine" id="cb10-226" title="226"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-227" title="227"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird)</a>
<a class="sourceLine" id="cb10-228" title="228"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird_plant)</a>
<a class="sourceLine" id="cb10-229" title="229"></a>
<a class="sourceLine" id="cb10-230" title="230"></a>
<a class="sourceLine" id="cb10-231" title="231"><span class="co">## bird + reptile</span></a>
<a class="sourceLine" id="cb10-232" title="232"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-233" title="233"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird)</a>
<a class="sourceLine" id="cb10-234" title="234"></a>
<a class="sourceLine" id="cb10-235" title="235"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-236" title="236">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_bird[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-237" title="237">    data.final<span class="op">$</span>cat_taxa_bird_reptile[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-238" title="238">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_bird_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-239" title="239">    data.final<span class="op">$</span>cat_taxa_bird[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-240" title="240">    data.final<span class="op">$</span>cat_taxa_reptile[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-241" title="241">  }</a>
<a class="sourceLine" id="cb10-242" title="242">}</a>
<a class="sourceLine" id="cb10-243" title="243"></a>
<a class="sourceLine" id="cb10-244" title="244"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-245" title="245"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird)</a>
<a class="sourceLine" id="cb10-246" title="246"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_bird_reptile)</a>
<a class="sourceLine" id="cb10-247" title="247"></a>
<a class="sourceLine" id="cb10-248" title="248"></a>
<a class="sourceLine" id="cb10-249" title="249"><span class="co">## fish + invertebrate</span></a>
<a class="sourceLine" id="cb10-250" title="250"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-251" title="251"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish)</a>
<a class="sourceLine" id="cb10-252" title="252"></a>
<a class="sourceLine" id="cb10-253" title="253"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-254" title="254">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_fish[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_invertebrate[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-255" title="255">    data.final<span class="op">$</span>cat_taxa_fish_invertebrate[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-256" title="256">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_fish_invertebrate[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-257" title="257">    data.final<span class="op">$</span>cat_taxa_fish[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-258" title="258">    data.final<span class="op">$</span>cat_taxa_invertebrate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-259" title="259">  }</a>
<a class="sourceLine" id="cb10-260" title="260">}</a>
<a class="sourceLine" id="cb10-261" title="261"></a>
<a class="sourceLine" id="cb10-262" title="262"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-263" title="263"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish)</a>
<a class="sourceLine" id="cb10-264" title="264"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish_invertebrate)</a>
<a class="sourceLine" id="cb10-265" title="265"></a>
<a class="sourceLine" id="cb10-266" title="266"></a>
<a class="sourceLine" id="cb10-267" title="267"><span class="co">## fish + mammal</span></a>
<a class="sourceLine" id="cb10-268" title="268"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-269" title="269"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish)</a>
<a class="sourceLine" id="cb10-270" title="270"></a>
<a class="sourceLine" id="cb10-271" title="271"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-272" title="272">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_fish[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_mammal[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-273" title="273">    data.final<span class="op">$</span>cat_taxa_fish_mammal[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-274" title="274">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_fish_mammal[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-275" title="275">    data.final<span class="op">$</span>cat_taxa_fish[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-276" title="276">    data.final<span class="op">$</span>cat_taxa_mammal[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-277" title="277">  }</a>
<a class="sourceLine" id="cb10-278" title="278">}</a>
<a class="sourceLine" id="cb10-279" title="279"></a>
<a class="sourceLine" id="cb10-280" title="280"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-281" title="281"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish)</a>
<a class="sourceLine" id="cb10-282" title="282"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish_mammal)</a>
<a class="sourceLine" id="cb10-283" title="283"></a>
<a class="sourceLine" id="cb10-284" title="284"></a>
<a class="sourceLine" id="cb10-285" title="285"><span class="co">## fish + plant</span></a>
<a class="sourceLine" id="cb10-286" title="286"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-287" title="287"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish)</a>
<a class="sourceLine" id="cb10-288" title="288"></a>
<a class="sourceLine" id="cb10-289" title="289"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-290" title="290">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_fish[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_plant[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-291" title="291">    data.final<span class="op">$</span>cat_taxa_fish_plant[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-292" title="292">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_fish_plant[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-293" title="293">    data.final<span class="op">$</span>cat_taxa_fish[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-294" title="294">    data.final<span class="op">$</span>cat_taxa_plant[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-295" title="295">  }</a>
<a class="sourceLine" id="cb10-296" title="296">}</a>
<a class="sourceLine" id="cb10-297" title="297"></a>
<a class="sourceLine" id="cb10-298" title="298"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-299" title="299"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish)</a>
<a class="sourceLine" id="cb10-300" title="300"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish_plant)</a>
<a class="sourceLine" id="cb10-301" title="301"></a>
<a class="sourceLine" id="cb10-302" title="302"></a>
<a class="sourceLine" id="cb10-303" title="303"><span class="co">## fish + reptile</span></a>
<a class="sourceLine" id="cb10-304" title="304"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-305" title="305"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish)</a>
<a class="sourceLine" id="cb10-306" title="306"></a>
<a class="sourceLine" id="cb10-307" title="307"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-308" title="308">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_fish[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-309" title="309">    data.final<span class="op">$</span>cat_taxa_fish_reptile[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-310" title="310">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_fish_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-311" title="311">    data.final<span class="op">$</span>cat_taxa_fish[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-312" title="312">    data.final<span class="op">$</span>cat_taxa_reptile[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-313" title="313">  }</a>
<a class="sourceLine" id="cb10-314" title="314">}</a>
<a class="sourceLine" id="cb10-315" title="315"></a>
<a class="sourceLine" id="cb10-316" title="316"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-317" title="317"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish)</a>
<a class="sourceLine" id="cb10-318" title="318"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_fish_reptile)</a>
<a class="sourceLine" id="cb10-319" title="319"></a>
<a class="sourceLine" id="cb10-320" title="320"></a>
<a class="sourceLine" id="cb10-321" title="321"><span class="co">## invertebrate + mammal</span></a>
<a class="sourceLine" id="cb10-322" title="322"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-323" title="323"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_invertebrate)</a>
<a class="sourceLine" id="cb10-324" title="324"></a>
<a class="sourceLine" id="cb10-325" title="325"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-326" title="326">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_invertebrate[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_mammal[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-327" title="327">    data.final<span class="op">$</span>cat_taxa_invertebrate_mammal[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-328" title="328">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_invertebrate_mammal[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-329" title="329">    data.final<span class="op">$</span>cat_taxa_invertebrate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-330" title="330">    data.final<span class="op">$</span>cat_taxa_mammal[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-331" title="331">  }</a>
<a class="sourceLine" id="cb10-332" title="332">}</a>
<a class="sourceLine" id="cb10-333" title="333"></a>
<a class="sourceLine" id="cb10-334" title="334"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-335" title="335"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_invertebrate)</a>
<a class="sourceLine" id="cb10-336" title="336"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_invertebrate_mammal)</a>
<a class="sourceLine" id="cb10-337" title="337"></a>
<a class="sourceLine" id="cb10-338" title="338"></a>
<a class="sourceLine" id="cb10-339" title="339"><span class="co">## invertebrate + plant</span></a>
<a class="sourceLine" id="cb10-340" title="340"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-341" title="341"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_invertebrate)</a>
<a class="sourceLine" id="cb10-342" title="342"></a>
<a class="sourceLine" id="cb10-343" title="343"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-344" title="344">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_invertebrate[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_plant[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-345" title="345">    data.final<span class="op">$</span>cat_taxa_invertebrate_plant[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-346" title="346">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_invertebrate_plant[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-347" title="347">    data.final<span class="op">$</span>cat_taxa_invertebrate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-348" title="348">    data.final<span class="op">$</span>cat_taxa_plant[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-349" title="349">  }</a>
<a class="sourceLine" id="cb10-350" title="350">}</a>
<a class="sourceLine" id="cb10-351" title="351"></a>
<a class="sourceLine" id="cb10-352" title="352"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-353" title="353"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_invertebrate)</a>
<a class="sourceLine" id="cb10-354" title="354"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_invertebrate_plant)</a>
<a class="sourceLine" id="cb10-355" title="355"></a>
<a class="sourceLine" id="cb10-356" title="356"></a>
<a class="sourceLine" id="cb10-357" title="357"><span class="co">## invertebrate + reptile</span></a>
<a class="sourceLine" id="cb10-358" title="358"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-359" title="359"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_invertebrate)</a>
<a class="sourceLine" id="cb10-360" title="360"></a>
<a class="sourceLine" id="cb10-361" title="361"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-362" title="362">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_invertebrate[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-363" title="363">    data.final<span class="op">$</span>cat_taxa_invertebrate_reptile[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-364" title="364">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_invertebrate_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-365" title="365">    data.final<span class="op">$</span>cat_taxa_invertebrate[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-366" title="366">    data.final<span class="op">$</span>cat_taxa_reptile[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-367" title="367">  }</a>
<a class="sourceLine" id="cb10-368" title="368">}</a>
<a class="sourceLine" id="cb10-369" title="369"></a>
<a class="sourceLine" id="cb10-370" title="370"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-371" title="371"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_invertebrate)</a>
<a class="sourceLine" id="cb10-372" title="372"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_invertebrate_reptile)</a>
<a class="sourceLine" id="cb10-373" title="373"></a>
<a class="sourceLine" id="cb10-374" title="374"></a>
<a class="sourceLine" id="cb10-375" title="375"><span class="co">## mammal + plant</span></a>
<a class="sourceLine" id="cb10-376" title="376"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-377" title="377"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_mammal)</a>
<a class="sourceLine" id="cb10-378" title="378"></a>
<a class="sourceLine" id="cb10-379" title="379"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-380" title="380">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_mammal[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_plant[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-381" title="381">    data.final<span class="op">$</span>cat_taxa_mammal_plant[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-382" title="382">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_mammal_plant[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-383" title="383">    data.final<span class="op">$</span>cat_taxa_mammal[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-384" title="384">    data.final<span class="op">$</span>cat_taxa_plant[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-385" title="385">  }</a>
<a class="sourceLine" id="cb10-386" title="386">}</a>
<a class="sourceLine" id="cb10-387" title="387"></a>
<a class="sourceLine" id="cb10-388" title="388"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-389" title="389"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_mammal)</a>
<a class="sourceLine" id="cb10-390" title="390"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_mammal_plant)</a>
<a class="sourceLine" id="cb10-391" title="391"></a>
<a class="sourceLine" id="cb10-392" title="392"></a>
<a class="sourceLine" id="cb10-393" title="393"><span class="co">## mammal + reptile</span></a>
<a class="sourceLine" id="cb10-394" title="394"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-395" title="395"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_mammal)</a>
<a class="sourceLine" id="cb10-396" title="396"></a>
<a class="sourceLine" id="cb10-397" title="397"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-398" title="398">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_mammal[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-399" title="399">    data.final<span class="op">$</span>cat_taxa_mammal_reptile[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-400" title="400">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_mammal_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-401" title="401">    data.final<span class="op">$</span>cat_taxa_mammal[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-402" title="402">    data.final<span class="op">$</span>cat_taxa_reptile[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-403" title="403">  }</a>
<a class="sourceLine" id="cb10-404" title="404">}</a>
<a class="sourceLine" id="cb10-405" title="405"></a>
<a class="sourceLine" id="cb10-406" title="406"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-407" title="407"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_mammal)</a>
<a class="sourceLine" id="cb10-408" title="408"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_mammal_reptile)</a>
<a class="sourceLine" id="cb10-409" title="409"></a>
<a class="sourceLine" id="cb10-410" title="410"></a>
<a class="sourceLine" id="cb10-411" title="411"><span class="co">## plant + reptile</span></a>
<a class="sourceLine" id="cb10-412" title="412"><span class="co">#test</span></a>
<a class="sourceLine" id="cb10-413" title="413"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_plant)</a>
<a class="sourceLine" id="cb10-414" title="414"></a>
<a class="sourceLine" id="cb10-415" title="415"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data.final)){</a>
<a class="sourceLine" id="cb10-416" title="416">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_plant[i]<span class="op">==</span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>data.final<span class="op">$</span>cat_taxa_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-417" title="417">    data.final<span class="op">$</span>cat_taxa_plant_reptile[i]=<span class="dv">1</span>}</a>
<a class="sourceLine" id="cb10-418" title="418">  <span class="cf">if</span>(data.final<span class="op">$</span>cat_taxa_plant_reptile[i]<span class="op">==</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb10-419" title="419">    data.final<span class="op">$</span>cat_taxa_plant[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-420" title="420">    data.final<span class="op">$</span>cat_taxa_reptile[i]=<span class="dv">0</span></a>
<a class="sourceLine" id="cb10-421" title="421">  }</a>
<a class="sourceLine" id="cb10-422" title="422">}</a>
<a class="sourceLine" id="cb10-423" title="423"></a>
<a class="sourceLine" id="cb10-424" title="424"><span class="co">#retest</span></a>
<a class="sourceLine" id="cb10-425" title="425"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_plant)</a>
<a class="sourceLine" id="cb10-426" title="426"><span class="kw">sum</span>(data.final<span class="op">$</span>cat_taxa_plant_reptile)</a></code></pre></div>
</div>
<div id="export-multi-category-data-for-analysis-and-visualization" class="section level3">
<h3><span class="header-section-number">4.2.6</span> Export Multi-Category Data for Analysis and Visualization</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">write_csv</span>(data.final, <span class="st">&quot;~/Desktop/master_output_data_analysis_v15_filtered.csv&quot;</span>)</a></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="filtering.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-analysis-and-visualization-datavis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
